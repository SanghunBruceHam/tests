<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <title>アニメ性格診断 | あなたのアニメキャラタイプを発見！- 無料心理テスト</title>
  <meta name="description" content="🎭 あなたはどのアニメキャラタイプ？主人公、ツンデレ、クールなど6つのタイプから診断！20問で性格分析、相性の良いキャラタイプも分かる無料心理テスト" />
  <meta name="robots" content="index, follow" />


  <!-- Open Graph Meta Tags -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="🎭 アニメ性格診断 | あなたのアニメキャラタイプを発見！" />
  <meta property="og:description" content="主人公、ツンデレ、クール系など6つのアニメキャラタイプから診断！20問の無料心理テストで性格分析 🎯" />
  <meta property="og:image" content="https://tests.mahalohana-bruce.com/anime-personality/ja/thumbnail.png" />
  <meta property="og:locale" content="ja_JP" />
  <meta property="og:site_name" content="アニメ性格診断テスト" />
  <meta property="og:url" content="https://tests.mahalohana-bruce.com/anime-personality/ja/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="🎭 アニメ性格診断 | あなたのアニメキャラタイプを発見！" />
  <meta name="twitter:description" content="主人公、ツンデレ、クール系など6つのアニメキャラタイプから診断！20問の無料心理テストで性格分析 🎯" />
  <meta name="twitter:image" content="https://tests.mahalohana-bruce.com/anime-personality/ja/thumbnail.png" />
  <meta name="twitter:site" content="@tests_mahalohana" />
  <meta name="twitter:creator" content="@mahalohana_bruce" />

  <!-- Enhanced Social Media Exposure -->
  <meta property="article:publisher" content="https://www.facebook.com/testsmahalohana" />
  <meta property="article:author" content="https://www.facebook.com/mahalohanabruce" />
  <meta property="article:tag" content="anime personality" />
  <meta property="article:tag" content="character type" />
  <meta property="article:tag" content="personality test" />

  <!-- Additional Twitter Optimization -->
  <meta name="twitter:label1" content="テストタイプ">
  <meta name="twitter:data1" content="性格分析">
  <meta name="twitter:label2" content="所要時間">
  <meta name="twitter:data2" content="2-3分">

  <!-- Search Engine Discovery -->
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="theme-color" content="#667eea">

  <link rel="icon" href="./favicon.png" type="image/png" />
  <link rel="canonical" href="https://tests.mahalohana-bruce.com/anime-personality/ja/" />

  <!-- hreflang for multilingual SEO -->
  <link rel="alternate" hreflang="ja" href="https://tests.mahalohana-bruce.com/anime-personality/ja/" />
  <link rel="alternate" hreflang="ko" href="https://tests.mahalohana-bruce.com/anime-personality/ko/" />
  <link rel="alternate" hreflang="x-default" href="https://tests.mahalohana-bruce.com/anime-personality/ja/" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-45VSGEM7EZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-45VSGEM7EZ');
  </script>

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "アニメ性格診断テスト",
  "description": "あなたのアニメキャラクター性格タイプを診断する無料心理テスト。主人公、ツンデレ、クールなど6つのタイプから分析",
  "url": "https://tests.mahalohana-bruce.com/anime-personality/ja/",
  "applicationCategory": "Entertainment",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "JPY"
  },
  "inLanguage": "ja",
  "datePublished": "2025-08-05T00:00:00.000Z",
  "dateModified": "2025-08-16T00:00:00+09:00",
  "isAccessibleForFree": true,
  "interactionStatistic": [
    {
      "@type": "InteractionCounter",
      "interactionType": "https://schema.org/ShareAction",
      "userInteractionCount": "0"
    },
    {
      "@type": "InteractionCounter", 
      "interactionType": "https://schema.org/ViewAction",
      "userInteractionCount": "0"
    }
  ],
  "author": {
    "@type": "Organization",
    "name": "心理テスト研究所",
    "url": "https://tests.mahalohana-bruce.com"
  },
  "publisher": {
    "@type": "Organization",
    "name": "心理テスト研究所",
    "logo": {
      "@type": "ImageObject",
      "url": "https://tests.mahalohana-bruce.com/anime-personality/ja/favicon.png"
    }
  }
}
</script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet"></noscript>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- Google AdSense Auto Ads -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5508768187151867" crossorigin="anonymous"></script>

  <!-- 共通テーマCSS -->
  <link rel="stylesheet" href="/assets/common-theme.css">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    @import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&display=swap');

    body {
      font-family: 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', 'ヒラギノ角ゴ ProN W3', 'Meiryo', 'メイリオ', sans-serif;
      background: linear-gradient(135deg, #ffb3e6 0%, #ffccf9 25%, #e6ccff 50%, #ccf2ff 75%, #ffffcc 100%);
      background-size: 400% 400%;
      animation: gradientAnimation 8s ease infinite;
      min-height: 100vh;
      padding: 20px;
      color: #2d3748;
      overflow-x: hidden;
      position: relative;
    }

    @keyframes gradientAnimation {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    [data-theme="dark"] body {
      background: linear-gradient(135deg, #2d1b69 0%, #1a1a3e 25%, #0f1419 50%, #1a237e 75%, #3949ab 100%);
      background-size: 400% 400%;
      color: #ffffff;
    }

    /* 귀여운 떠다니는 이모지 */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      font-size: 20px;
      animation: float 8s ease-in-out infinite;
      opacity: 0.7;
    }

    .particle:nth-child(1)::before { content: '🌸'; }
    .particle:nth-child(2)::before { content: '⭐'; }
    .particle:nth-child(3)::before { content: '💫'; }
    .particle:nth-child(4)::before { content: '🎀'; }
    .particle:nth-child(5)::before { content: '💖'; }
    .particle:nth-child(6)::before { content: '🌙'; }
    .particle:nth-child(7)::before { content: '✨'; }
    .particle:nth-child(8)::before { content: '🦄'; }

    .particle:nth-child(2n) {
      animation-delay: -2s;
      animation-duration: 10s;
    }

    .particle:nth-child(3n) {
      animation-delay: -4s;
      animation-duration: 12s;
    }

    @keyframes float {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10% { opacity: 0.7; }
      90% { opacity: 0.7; }
      100% { transform: translateY(-20vh) rotate(360deg); opacity: 0; }
    }

    .container {
      max-width: 90vw;
      margin: 0 auto;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      z-index: 10;
      padding: 20px;
    }

    .header-controls {
      position: fixed;
      top: 30px;
      right: 30px;
      z-index: 1000;
    }

    .theme-toggle {
      padding: 12px;
      border: 2px solid #ff00ff;
      background: rgba(0, 0, 0, 0.8);
      color: #ff00ff;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 0 20px rgba(255, 0, 255, 0.3);
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .theme-toggle:hover {
      box-shadow: 0 0 30px rgba(255, 0, 255, 0.6);
      transform: scale(1.1);
    }

    [data-theme="dark"] .theme-toggle {
      border-color: #00ffff;
      color: #00ffff;
      box-shadow: 0 0 20px rgba(0, 255, 255, 0.3);
    }

    .card {
      background: rgba(255, 255, 255, 0.95);
      border: 3px solid #ff69b4;
      border-radius: 30px;
      padding: 40px;
      backdrop-filter: blur(10px);
      box-shadow: 
        0 15px 35px rgba(255, 105, 180, 0.3),
        0 5px 15px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 520px;
      position: relative;
      overflow: hidden;
      transition: all 0.4s ease;
    }

    .card::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #ff69b4, #ff1493, #ff69b4, #ffc0cb);
      background-size: 400% 400%;
      border-radius: 32px;
      z-index: -1;
      animation: borderShimmer 3s ease-in-out infinite;
    }

    @keyframes borderShimmer {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 
        0 25px 50px rgba(255, 105, 180, 0.4),
        0 10px 25px rgba(0, 0, 0, 0.15);
    }

    [data-theme="dark"] .card {
      background: rgba(30, 30, 50, 0.95);
      border-color: #9c88ff;
      color: #ffffff;
    }

    [data-theme="dark"] .card::before {
      background: linear-gradient(45deg, #9c88ff, #7c4dff, #9c88ff, #b39ddb);
      background-size: 400% 400%;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 40px;
      position: relative;
    }

    .title {
      font-family: 'Comic Sans MS', cursive, 'Noto Sans JP', sans-serif;
      font-size: 28px;
      font-weight: 800;
      margin-bottom: 16px;
      line-height: 1.3;
      background: linear-gradient(45deg, #ff69b4, #ff1493, #ffc0cb, #ff69b4);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: cuteGradient 4s ease-in-out infinite;
      text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3);
      position: relative;
    }

    .title::before {
      content: '✨';
      position: absolute;
      left: -40px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 24px;
      animation: sparkle 2s ease-in-out infinite;
    }

    .title::after {
      content: '✨';
      position: absolute;
      right: -40px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 24px;
      animation: sparkle 2s ease-in-out infinite 1s;
    }

    @keyframes cuteGradient {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes sparkle {
      0%, 100% { transform: translateY(-50%) scale(1); opacity: 1; }
      50% { transform: translateY(-50%) scale(1.5); opacity: 0.5; }
    }

    .subtitle {
      font-size: 16px;
      color: #666;
      margin-bottom: 28px;
      line-height: 1.6;
    }

    [data-theme="dark"] .subtitle {
      color: #cccccc;
    }

    .info-badge {
      display: inline-flex;
      align-items: center;
      background: linear-gradient(45deg, #ff69b4, #ff1493);
      color: white;
      padding: 10px 18px;
      border-radius: 25px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      box-shadow: 0 4px 15px rgba(255, 105, 180, 0.4);
      border: 2px solid rgba(255, 255, 255, 0.3);
    }

    .info-badge:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 8px 25px rgba(255, 105, 180, 0.6);
    }

    .info-badge::before {
      content: 'ℹ';
      margin-right: 6px;
    }

    /* Gender Selection */
    .gender-section h3 {
      text-align: center;
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 32px;
      color: #ffffff;
      text-shadow: 0 0 20px rgba(255, 0, 255, 0.5);
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 1px;
    }

    .gender-options {
      display: grid;
      gap: 16px;
      margin-bottom: 40px;
    }

    .gender-option {
      display: flex;
      align-items: center;
      padding: 20px 24px;
      border: 2px solid #ff00ff40;
      border-radius: 15px;
      cursor: pointer;
      transition: all 0.3s ease;
      background: rgba(255, 0, 255, 0.05);
      backdrop-filter: blur(10px);
      position: relative;
      overflow: hidden;
    }

    .gender-option::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.1), transparent);
      transition: left 0.5s ease;
    }

    .gender-option:hover {
      border-color: #ff00ff;
      background: rgba(255, 0, 255, 0.1);
      box-shadow: 0 0 25px rgba(255, 0, 255, 0.3);
      transform: translateY(-2px);
    }

    .gender-option:hover::before {
      left: 100%;
    }

    .gender-option.selected {
      border-color: #00ffff;
      background: rgba(0, 255, 255, 0.15);
      box-shadow: 0 0 30px rgba(0, 255, 255, 0.4);
      color: #00ffff;
    }

    .gender-icon {
      font-size: 20px;
      margin-right: 16px;
      width: 24px;
      text-align: center;
    }

    .gender-text {
      flex: 1;
      font-size: 16px;
      font-weight: 600;
    }

    .radio-circle {
      width: 20px;
      height: 20px;
      border: 2px solid #d1d5db;
      border-radius: 50%;
      position: relative;
      transition: all 0.2s ease;
    }

    .gender-option.selected .radio-circle {
      border-color: #6c5ce7;
    }

    .gender-option.selected .radio-circle::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 10px;
      height: 10px;
      background: #6c5ce7;
      border-radius: 50%;
      transform: translate(-50%, -50%);
    }

    /* Circular Progress Bar */
    .progress-section {
      margin-bottom: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .progress-circle {
      position: relative;
      width: 120px;
      height: 120px;
      margin-bottom: 16px;
    }

    .progress-ring {
      transform: rotate(-90deg);
      width: 120px;
      height: 120px;
    }

    .progress-ring circle {
      stroke: #333;
      stroke-width: 8;
      fill: transparent;
      r: 52;
      cx: 60;
      cy: 60;
    }

    .progress-ring .progress-circle-fill {
      stroke: url(#progressGradient);
      stroke-dasharray: 327;
      stroke-dashoffset: 327;
      transition: stroke-dashoffset 0.5s ease;
      filter: drop-shadow(0 0 10px #ff00ff);
    }

    .progress-counter {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-family: 'Orbitron', sans-serif;
      font-size: 18px;
      font-weight: 700;
      color: #ffffff;
      text-shadow: 0 0 15px rgba(255, 0, 255, 0.8);
    }

    .progress-label {
      font-size: 16px;
      color: #cccccc;
      font-weight: 600;
      text-align: center;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 1px;
    }

    /* Question Section */
    .question-section {
      text-align: center;
    }

    .question-number {
      display: inline-block;
      background: linear-gradient(45deg, #ff00ff, #00ffff);
      color: #000;
      padding: 8px 16px;
      border-radius: 25px;
      font-size: 14px;
      font-weight: 700;
      margin-bottom: 24px;
      font-family: 'Orbitron', sans-serif;
      box-shadow: 0 0 20px rgba(255, 0, 255, 0.4);
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .question-title {
      font-size: 26px;
      font-weight: 700;
      margin-bottom: 40px;
      line-height: 1.4;
      color: #ffffff;
      text-shadow: 0 0 20px rgba(255, 255, 255, 0.3);
      animation: typewriter 1s ease-out;
    }

    @keyframes typewriter {
      from { width: 0; opacity: 0; }
      to { width: 100%; opacity: 1; }
    }

    /* Holographic Answer Options */
    .answer-options {
      display: grid;
      gap: 16px;
      margin-bottom: 40px;
    }

    .answer-option {
      padding: 18px 20px;
      background: rgba(255, 255, 255, 0.98);
      border: 2px solid #ffc0cb;
      border-radius: 18px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 16px;
      line-height: 1.5;
      text-align: left;
      color: #0f172a;
      font-weight: 700;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(5px);
      text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
    }

    .answer-option::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 105, 180, 0.2), transparent);
      transition: left 0.4s ease;
    }

    .answer-option:hover {
      border-color: #ff69b4;
      background: rgba(255, 255, 255, 1);
      transform: translateX(8px);
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
      color: #0f172a;
      text-shadow: 0 1px 3px rgba(255, 255, 255, 1);
    }

    .answer-option:hover::before {
      left: 100%;
    }

    .answer-option.selected {
      border-color: #ff1493;
      background: rgba(255, 255, 255, 1);
      box-shadow: 0 8px 20px rgba(255, 20, 147, 0.4);
      color: #831843;
      font-weight: 800;
      transform: scale(1.02);
      animation: selectedBounce 0.5s ease;
      text-shadow: 0 1px 3px rgba(255, 255, 255, 1);
      border-width: 3px;
    }

    @keyframes selectedBounce {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1.02); }
    }

    [data-theme="dark"] .answer-option {
      background: rgba(15, 15, 30, 0.98);
      border-color: #9c88ff;
      color: #f8fafc;
      font-weight: 700;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
    }

    [data-theme="dark"] .answer-option:hover {
      background: rgba(15, 15, 30, 1);
      color: #ffffff;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 1);
    }

    [data-theme="dark"] .answer-option.selected {
      border-color: #7c4dff;
      background: rgba(15, 15, 30, 1);
      color: #f1f5f9;
      font-weight: 800;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 1);
      border-width: 3px;
    }

    /* Neon Buttons */
    .btn {
      width: 100%;
      padding: 18px 32px;
      border: 2px solid #ff00ff;
      border-radius: 25px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Orbitron', sans-serif;
      letter-spacing: 1px;
      position: relative;
      overflow: hidden;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
    }

    .btn-primary {
      background: linear-gradient(45deg, rgba(255, 0, 255, 0.2), rgba(0, 255, 255, 0.2));
      color: #ffffff;
      box-shadow: 0 0 25px rgba(255, 0, 255, 0.4);
    }

    .btn-primary::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transition: left 0.5s ease;
    }

    .btn-primary:hover:not(:disabled) {
      box-shadow: 0 0 40px rgba(255, 0, 255, 0.6);
      transform: translateY(-3px) scale(1.02);
      border-color: #00ffff;
    }

    .btn-primary:hover:not(:disabled)::before {
      left: 100%;
    }

    .btn:disabled {
      opacity: 0.3;
      cursor: not-allowed;
      transform: none !important;
      box-shadow: none;
    }

    /* Holographic Loading Screen */
    .loading-section {
      text-align: center;
      padding: 80px 0;
    }

    .loading-spinner {
      width: 80px;
      height: 80px;
      margin: 0 auto 32px;
      position: relative;
    }

    .loading-ring {
      position: absolute;
      width: 80px;
      height: 80px;
      border: 3px solid transparent;
      border-top: 3px solid #ff00ff;
      border-right: 3px solid #00ffff;
      border-radius: 50%;
      animation: hologramSpin 2s linear infinite;
      box-shadow: 
        0 0 20px rgba(255, 0, 255, 0.5),
        inset 0 0 20px rgba(0, 255, 255, 0.2);
    }

    .loading-ring:nth-child(2) {
      width: 60px;
      height: 60px;
      top: 10px;
      left: 10px;
      border-top: 3px solid #00ffff;
      border-right: 3px solid #ffff00;
      animation: hologramSpin 1.5s linear infinite reverse;
    }

    .loading-ring:nth-child(3) {
      width: 40px;
      height: 40px;
      top: 20px;
      left: 20px;
      border-top: 3px solid #ffff00;
      border-right: 3px solid #ff00ff;
      animation: hologramSpin 1s linear infinite;
    }

    @keyframes hologramSpin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 20px;
      font-weight: 700;
      color: #ffffff;
      font-family: 'Orbitron', sans-serif;
      text-shadow: 0 0 20px rgba(255, 0, 255, 0.8);
      animation: textGlow 2s ease-in-out infinite alternate;
    }

    @keyframes textGlow {
      from { text-shadow: 0 0 20px rgba(255, 0, 255, 0.8); }
      to { text-shadow: 0 0 30px rgba(0, 255, 255, 0.8); }
    }

    /* Result Screen */
    .result-section {
      text-align: center;
    }

    .result-header {
      background: #f9fafb;
      border-radius: 12px;
      padding: 20px 16px;
      margin-bottom: 16px;
    }

    [data-theme="dark"] .result-header {
      background: rgba(55, 65, 81, 0.3);
    }

    .result-emoji {
      font-size: 64px;
      margin-bottom: 12px;
      display: block;
    }

    .result-title {
      font-size: 32px;
      font-weight: 900;
      margin-bottom: 12px;
      color: #ff1493;
      text-shadow: 
        2px 2px 0px #ffffff,
        -2px -2px 0px #ffffff,
        2px -2px 0px #ffffff,
        -2px 2px 0px #ffffff,
        3px 3px 5px rgba(255, 20, 147, 0.3);
      font-family: 'Noto Sans JP', 'Hiragino Sans', sans-serif;
      letter-spacing: 1px;
    }

    [data-theme="dark"] .result-title {
      color: #ff69b4;
      text-shadow: 
        2px 2px 0px #0f0f1f,
        -2px -2px 0px #0f0f1f,
        2px -2px 0px #0f0f1f,
        -2px 2px 0px #0f0f1f,
        3px 3px 10px rgba(255, 105, 180, 0.5);
    }

    .result-subtitle {
      font-size: 18px;
      color: #2d3748;
      margin-bottom: 16px;
      font-weight: 700;
      background: rgba(255, 255, 255, 0.8);
      padding: 8px 16px;
      border-radius: 20px;
      display: inline-block;
      border: 2px solid #ffc0cb;
    }

    [data-theme="dark"] .result-subtitle {
      color: #f7fafc;
      background: rgba(30, 30, 50, 0.8);
      border-color: #9c88ff;
    }

    .result-description {
      font-size: 16px;
      color: #1a202c;
      line-height: 1.6;
      font-weight: 600;
      margin-top: 10px;
    }

    [data-theme="dark"] .result-description {
      color: #f7fafc;
    }

    /* Result Cards */
    .result-cards {
      display: grid;
      gap: 12px;
      margin-bottom: 16px;
    }

    .result-card {
      background: #f9fafb;
      border-radius: 12px;
      padding: 16px;
      text-align: left;
    }

    [data-theme="dark"] .result-card {
      background: rgba(55, 65, 81, 0.3);
    }

    .result-card-title {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 8px;
      color: #1f2937;
      display: flex;
      align-items: center;
    }

    [data-theme="dark"] .result-card-title {
      color: #e0e0e0;
    }

    .result-card-title::before {
      margin-right: 8px;
      font-size: 20px;
    }

    .result-card-title.personality::before { content: '🎭'; }
    .result-card-title.match::before { content: '💕'; }
    .result-card-title.anime::before { content: '📺'; }
    .result-card-title.characters::before { content: '👥'; }

    .result-card-content {
      font-size: 14px;
      line-height: 1.5;
      color: #374151;
    }

    [data-theme="dark"] .result-card-content {
      color: #b0b0b0;
    }

    .character-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }

    .character-tag {
      background: #e5e7eb;
      color: #374151;
      padding: 4px 8px;
      border-radius: 16px;
      font-size: 12px;
      font-weight: 500;
    }

    [data-theme="dark"] .character-tag {
      background: #4b5563;
      color: #e0e0e0;
    }

    /* Share Section */
    .share-section {
      margin-top: 20px;
    }

    .share-title {
      font-size: 16px;
      font-weight: 700;
      text-align: center;
      margin-bottom: 12px;
      color: #1f2937;
    }

    [data-theme="dark"] .share-title {
      color: #e0e0e0;
    }

    .share-buttons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 8px;
      margin-bottom: 12px;
    }

    .share-btn {
      padding: 12px 8px;
      border: none;
      border-radius: 10px;
      font-size: 12px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 4px;
    }

    .share-btn:hover {
      transform: translateY(-2px);
    }

    .share-btn.twitter {
      background: #000000;
      color: white;
    }

    .share-btn.line {
      background: #00B900;
      color: white;
    }

    .share-btn.facebook {
      background: #1877f2;
      color: white;
    }

    .share-btn.copy {
      background: #10b981;
      color: white;
    }

    .action-buttons {
      display: grid;
      gap: 8px;
    }

    .action-btn {
      padding: 12px;
      border: 2px solid #e5e7eb;
      border-radius: 10px;
      background: white;
      color: #374151;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s ease;
    }

    [data-theme="dark"] .action-btn {
      background: rgba(30, 30, 50, 0.5);
      border-color: #374151;
      color: #e0e0e0;
    }

    .action-btn:hover {
      border-color: #d1d5db;
      background: #f9fafb;
    }

    [data-theme="dark"] .action-btn:hover {
      border-color: #4b5563;
      background: rgba(75, 85, 99, 0.3);
    }

    /* Responsive */
    @media (max-width: 480px) {
      .container {
        padding: 10px;
      }

      .card {
        padding: 20px;
      }

      .title {
        font-size: 24px;
      }

      .question-title {
        font-size: 20px;
      }

      .share-buttons {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    .hidden {
      display: none;
    }

    /* FAQ Section */
    .faq-section {
      margin-top: 32px;
      padding: 24px;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 16px;
      backdrop-filter: blur(10px);
    }

    [data-theme="dark"] .faq-section {
      background: rgba(30, 30, 50, 0.3);
    }

    .faq-title {
      font-size: 24px;
      font-weight: 800;
      margin-bottom: 24px;
      text-align: center;
      color: #1f2937;
    }

    [data-theme="dark"] .faq-title {
      color: #e0e0e0;
    }

    .faq-item {
      margin-bottom: 20px;
      padding: 16px;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 12px;
      transition: all 0.3s ease;
    }

    [data-theme="dark"] .faq-item {
      background: rgba(55, 65, 81, 0.4);
    }

    .faq-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .faq-question {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 12px;
      color: #1f2937;
      cursor: pointer;
      display: flex;
      align-items: center;
    }

    [data-theme="dark"] .faq-question {
      color: #e0e0e0;
    }

    .faq-question::before {
      content: '❓';
      margin-right: 8px;
      font-size: 14px;
    }

    .faq-answer {
      font-size: 14px;
      line-height: 1.6;
      color: #374151;
      padding-left: 22px;
    }

    [data-theme="dark"] .faq-answer {
      color: #b0b0b0;
    }

    /* 개선된 광고 섹션 스타일 */
    .ad-section {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(15px);
      border-radius: 25px;
      padding: 35px;
      margin: 50px auto 40px;
      max-width: 850px;
      text-align: center;
      border: 3px solid #ff69b4;
      box-shadow: 
        0 15px 35px rgba(255, 105, 180, 0.25),
        0 5px 15px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .ad-section::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #ff69b4, #ff1493, #ffc0cb, #ff69b4);
      background-size: 300% 300%;
      border-radius: 27px;
      z-index: -1;
      animation: borderShimmer 4s ease-in-out infinite;
    }

    .ad-section:hover {
      transform: translateY(-5px);
      box-shadow: 
        0 20px 40px rgba(255, 105, 180, 0.3),
        0 8px 20px rgba(0, 0, 0, 0.15);
    }

    .ad-title {
      color: #5a4fcf;
      margin-bottom: 15px;
      font-size: 1.5rem;
      font-weight: 800;
      text-shadow: 2px 2px 4px rgba(90, 79, 207, 0.2);
      background: linear-gradient(45deg, #5a4fcf, #ff69b4, #5a4fcf);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: cuteGradient 3s ease-in-out infinite;
    }

    .ad-description {
      color: #666;
      font-size: 1.1rem;
      margin-bottom: 25px;
      font-weight: 600;
      line-height: 1.5;
    }

    .ad-container {
      margin: 25px 0;
      width: 100%;
      max-width: 750px;
      margin-left: auto;
      margin-right: auto;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }



    /* 다크 테마용 광고 섹션 */
    [data-theme="dark"] .ad-section {
      background: rgba(30, 30, 50, 0.95);
      border-color: #9c88ff;
    }

    [data-theme="dark"] .ad-section::before {
      background: linear-gradient(45deg, #9c88ff, #7c4dff, #b39ddb, #9c88ff);
      background-size: 300% 300%;
    }

    [data-theme="dark"] .ad-title {
      color: #9c88ff;
      background: linear-gradient(45deg, #9c88ff, #ff69b4, #9c88ff);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    [data-theme="dark"] .ad-description {
      color: #ccc;
    }


    /* 개선된 푸터 스타일 */
    .footer {
      text-align: center;
      margin-top: 60px;
      padding: 40px 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 30px 30px 0 0;
      border-top: 4px solid #ff69b4;
      position: relative;
      box-shadow: 
        0 -10px 30px rgba(255, 105, 180, 0.3),
        0 -5px 15px rgba(0, 0, 0, 0.1);
    }

    .footer::before {
      content: '';
      position: absolute;
      top: -4px;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #ff69b4, #ff1493, #ffc0cb, #ff69b4);
      background-size: 200% 200%;
      animation: borderShimmer 3s ease-in-out infinite;
      box-shadow: 0 0 15px rgba(255, 105, 180, 0.6);
    }

    .footer-content {
      max-width: 600px;
      margin: 0 auto;
    }

    .footer-content p {
      margin: 10px 0;
      color: #2d3748;
      font-weight: 700;
      font-size: 1.1rem;
      text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
    }

    .footer-title {
      font-weight: 800;
      font-size: 1.3rem;
      background: linear-gradient(45deg, #ff69b4, #5a4fcf, #ff69b4);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: cuteGradient 4s ease-in-out infinite;
      display: inline-block;
      margin-bottom: 5px;
    }

    .footer-link a {
      color: #ff1493;
      text-decoration: none;
      font-weight: 800;
      font-size: 1.05rem;
      transition: all 0.3s ease;
      border-bottom: 2px solid #ff69b4;
      padding-bottom: 2px;
    }

    .footer-link a:hover {
      color: #5a4fcf;
      border-bottom-color: #5a4fcf;
      text-shadow: 0 0 10px rgba(90, 79, 207, 0.3);
      transform: scale(1.05);
    }

    /* 다크 테마 푸터 */
    [data-theme="dark"] .footer {
      background: rgba(15, 15, 30, 0.95);
      border-top-color: #9c88ff;
      box-shadow: 
        0 -10px 30px rgba(156, 136, 255, 0.3),
        0 -5px 15px rgba(0, 0, 0, 0.3);
    }

    [data-theme="dark"] .footer::before {
      background: linear-gradient(90deg, #9c88ff, #7c4dff, #b39ddb, #9c88ff);
      background-size: 200% 200%;
      box-shadow: 0 0 15px rgba(156, 136, 255, 0.6);
    }

    [data-theme="dark"] .footer-content p {
      color: #f7fafc;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }

    [data-theme="dark"] .footer-title {
      background: linear-gradient(45deg, #9c88ff, #ff69b4, #9c88ff);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    [data-theme="dark"] .footer-link a {
      color: #b39ddb;
      border-bottom-color: #9c88ff;
    }

    [data-theme="dark"] .footer-link a:hover {
      color: #ff69b4;
      border-bottom-color: #ff69b4;
      text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
    }

    /* 모바일 반응형 */
    @media (max-width: 768px) {
      .ad-section {
        margin: 30px 20px;
        padding: 25px 20px;
        border-radius: 20px;
      }

      .ad-title {
        font-size: 1.3rem;
      }

      .ad-description {
        font-size: 1rem;
      }

      .ad-container {
        max-width: 100%;
      }
    }
  </style>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "アニメ性格診断はどのくらい時間がかかりますか？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "たった1分で完了！20問の簡単な質問であなたの性格をアニメキャラタイプで分析します。"
        }
      },
      {
        "@type": "Question", 
        "name": "診断結果は信頼できますか？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "心理学理論とアニメキャラクター分析を基に設計されています。自己理解と娯楽を目的としたテストです。"
        }
      },
      {
        "@type": "Question",
        "name": "どんなキャラタイプがありますか？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "主人公、ツンデレ、クールデレ、ヤンデレ、萌え系、賢者の6つのタイプから診断します。"
        }
      },
      {
        "@type": "Question",
        "name": "結果をSNSでシェアできますか？",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "はい！Twitter、LINE、Facebook等で簡単にシェアできます。友達と一緒に診断してみてください！"
        }
      }
    ]
  }
  </script>
  
  <!-- Rich Snippets for Quiz Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Quiz",
    "name": "アニメキャラクター性格診断テスト",
    "description": "あなたのアニメキャラクター性格タイプを診断する無料心理テスト。主人公、ツンデレ、クール系など6つのタイプで分析",
    "url": "https://tests.mahalohana-bruce.com/anime-personality/ja/",
    "image": "https://tests.mahalohana-bruce.com/anime-personality/ja/thumbnail.png",
    "author": {
      "@type": "Organization",
      "name": "ブルーステスト研究所",
      "url": "https://tests.mahalohana-bruce.com"
    },
    "datePublished": "2024-12-01",
    "dateModified": "2024-12-15",
    "inLanguage": "ja-JP",
    "keywords": "アニメ, 性格テスト, キャラクター分析, 心理テスト, 無料テスト, 性格診断",
    "hasPart": [
      {
        "@type": "Question",
        "name": "アニメキャラクター性格分析質問",
        "text": "様々な状況での反応を通じて、あなたのアニメキャラクタータイプを分析します"
      }
    ],
    "educationalLevel": "beginner",
    "typicalAgeRange": "13-65",
    "timeRequired": "PT5M",
    "interactivityType": "active",
    "learningResourceType": "assessment"
  }
  </script>
  
  <!-- Rich Snippets for Service Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Service",
    "serviceType": "心理診断サービス",
    "name": "アニメキャラクター性格診断テスト",
    "description": "あなたのアニメキャラクター性格タイプを診断する無料オンライン心理テストサービス",
    "url": "https://tests.mahalohana-bruce.com/anime-personality/ja/",
    "provider": {
      "@type": "Organization",
      "name": "ブルーステスト研究所",
      "url": "https://tests.mahalohana-bruce.com"
    },
    "areaServed": "JP",
    "availableLanguage": ["ko-KR", "ja-JP", "en-US"],
    "serviceOutput": {
      "@type": "Thing",
      "name": "アニメキャラクター性格分析結果",
      "description": "主人公、ツンデレ、クール系、明るい系、暗い系、神秘系のうち1つの性格タイプ"
    },
    "category": "心理テスト",
    "audience": {
      "@type": "Audience",
      "audienceType": "アニメファン、性格分析に興味がある人々"
    },
    "isAccessibleForFree": true,
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "JPY",
      "availability": "https://schema.org/InStock"
    }
  }
  </script>
  <meta name="mobile-web-app-capable" content="yes">

</head>
<body>
  <!-- 움직이는 파티클 배경 -->
  <div class="particles" id="particles"></div>

  <!-- SVG Gradients -->
  <svg width="0" height="0">
    <defs>
      <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#ff00ff;stop-opacity:1" />
        <stop offset="50%" style="stop-color:#00ffff;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#ffff00;stop-opacity:1" />
      </linearGradient>
    </defs>
  </svg>

  <div class="header-controls">
    <button class="theme-toggle" id="themeToggle">
      <i class="fas fa-moon"></i>
    </button>
  </div>

  <div class="container">
    <div class="card">
      <!-- Start Screen -->
      <div id="startScreen">
        <div class="header">
          <h1 class="title">
            🎭 アニメ性格診断テスト
          </h1>
          <p class="subtitle">あなたはどのアニメキャラタイプ？性格を徹底分析！</p>
          <a href="#faq" class="info-badge">アニメ性格診断とは？</a>
        </div>

        <div class="gender-section">
          <h3>性別を選択してください</h3>

          <div class="gender-options">
            <div class="gender-option" onclick="selectGender(this, 'female')">
              <div class="gender-icon">👩</div>
              <div class="gender-text">女性</div>
              <div class="radio-circle"></div>
            </div>

            <div class="gender-option" onclick="selectGender(this, 'male')">
              <div class="gender-icon">👨</div>
              <div class="gender-text">男性</div>
              <div class="radio-circle"></div>
            </div>
          </div>

          <button class="btn btn-primary" id="startBtn" onclick="startTest()" disabled>
            診断スタート！
          </button>
        </div>
      </div>

      <!-- Question Screen -->
      <div id="questionScreen" class="hidden">
        <div class="progress-section">
          <div class="progress-circle">
            <svg class="progress-ring">
              <circle cx="60" cy="60" r="52" stroke="#333" stroke-width="8" fill="transparent"/>
              <circle class="progress-circle-fill" cx="60" cy="60" r="52" stroke-width="8" fill="transparent"/>
            </svg>
            <div class="progress-counter" id="progressCounter">1/20</div>
          </div>
          <div class="progress-label">進行状況</div>
        </div>

        <div class="question-section">
          <div class="question-number" id="questionNumber">質問 1</div>
          <h2 class="question-title" id="questionTitle"></h2>

          <div id="answerContainer"></div>
          <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>次の質問</button>
        </div>
      </div>

      <!-- Loading Screen -->
      <div id="loadingScreen" class="hidden">
        <div class="loading-section">
          <div class="loading-spinner">
            <div class="loading-ring"></div>
            <div class="loading-ring"></div>
            <div class="loading-ring"></div>
          </div>
          <div class="loading-text">あなたのアニメキャラタイプを分析中...</div>
        </div>
      </div>

      <!-- Result Screen -->
      <div id="resultScreen" class="hidden">
        <div class="result-section">
          <div class="result-header">
            <div class="result-emoji" id="resultEmoji">🎭</div>
            <div class="result-title" id="resultTitle">主人公タイプ</div>
            <div class="result-subtitle" id="resultSubtitle">熱血で正義感あふれる性格</div>
            <div class="result-description" id="resultDescription">あなたは周りを引っ張るリーダー気質の持ち主です。</div>
          </div>

          <div class="result-cards">
            <div class="result-card">
              <div class="result-card-title personality">性格の特徴</div>
              <div class="result-card-content" id="personalityContent"></div>
            </div>

            <div class="result-card">
              <div class="result-card-title match">相性の良いタイプ</div>
              <div class="result-card-content" id="matchContent"></div>
            </div>

            <div class="result-card">
              <div class="result-card-title anime">おすすめアニメ</div>
              <div class="result-card-content" id="animeContent"></div>
            </div>

            <div class="result-card">
              <div class="result-card-title characters">似ているキャラクター</div>
              <div class="result-card-content">
                <div class="character-list" id="charactersList"></div>
              </div>
            </div>
          </div>

          <div class="share-section">
            <div class="share-title">結果をシェア</div>

            <div class="share-buttons">
              <button class="share-btn twitter" onclick="shareTwitter()">
                <span>𝕏</span>
                <span>Twitter</span>
              </button>

              <button class="share-btn line" onclick="shareLine()">
                <span>📱</span>
                <span>LINE</span>
              </button>

              <button class="share-btn facebook" onclick="shareFacebook()">
                <span>f</span>
                <span>Facebook</span>
              </button>

              <button class="share-btn copy" onclick="copyResult()">
                <span>📋</span>
                <span>コピー</span>
              </button>
            </div>

            <!-- In-Article Ad -->
            <div style="margin: 32px 0; text-align: center;">
              <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5508768187151867"
                   crossorigin="anonymous"></script>
              <ins class="adsbygoogle"
                   style="display:block; text-align:center;"
                   data-ad-layout="in-article"
                   data-ad-format="fluid"
                   data-ad-client="ca-pub-5508768187151867"
                   data-ad-slot="5430524682"></ins>
              <script>
                   (adsbygoogle = window.adsbygoogle || []).push({});
              </script>
            </div>

            <div class="action-buttons">
              <button class="action-btn" onclick="restartTest()">🔄 もう一度診断</button>
              <button class="action-btn" onclick="goToMainPage()">🏠 他のテストを見る</button>
            </div>
          </div>
        </div>
      </div>

      <!-- FAQ Section -->
      <div id="faqSection" class="hidden">
        <div class="faq-section">
          <h2 class="faq-title">🤔 よくある質問 (FAQ)</h2>
          
          <div class="faq-item">
            <h3 class="faq-question">アニメ性格診断とは何ですか？</h3>
            <div class="faq-answer">
              アニメキャラクターの性格タイプに基づいて、あなたの性格を分析する心理テストです。主人公、ツンデレ、クール系など6つのタイプから最も近いタイプを診断します。
            </div>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">診断結果はどのくらい正確ですか？</h3>
            <div class="faq-answer">
              20問の科学的な質問を通じて分析され、心理学研究を基に開発されています。娯楽を目的としたテストですので、参考程度にお楽しみください。
            </div>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">6つのタイプの特徴は？</h3>
            <div class="faq-answer">
              <strong>主人公:</strong> 熱血、正義感、リーダーシップ<br>
              <strong>ツンデレ:</strong> 外面はクール、内面は温かい<br>
              <strong>クール:</strong> 冷静、知的、理性的<br>
              <strong>ヤンデレ:</strong> 強い愛情、独占欲<br>
              <strong>萌え系:</strong> 可愛い、純真、癒し系<br>
              <strong>賢者:</strong> 知恵深い、神秘的、落ち着いている
            </div>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">結果をSNSにシェアできますか？</h3>
            <div class="faq-answer">
              はい！Twitter、LINE、Facebook、コピー機能を通じて友達と簡単にシェアできます。一緒に診断してみてください！
            </div>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">診断は無料ですか？</h3>
            <div class="faq-answer">
              完全無料です！会員登録や個人情報入力なしで、すぐに診断できます。
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Mobile Display Ad -->
  <div style="text-align: center; margin: 30px 0;">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5508768187151867"
         crossorigin="anonymous"></script>
    <!-- モバイル専用 -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-5508768187151867"
         data-ad-slot="7591944706"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>


  <footer class="site-footer" style="text-align:center;padding:16px 12px;color:#64748b;font-size:14px;">
  <a id="home-link" href="/ja/" style="display:inline-block;text-decoration:none;color:#2563eb;font-weight:800;">🏠 テスト一覧</a>
  <div class="footer-lang" style="margin-top:6px;font-size:12px;line-height:1;">
    <a href="/" style="color:#475569;text-decoration:none;">한국어</a> · <span style="font-weight:700;color:#334155;">日本語</span> · <a href="/en/" style="color:#475569;text-decoration:none;">English</a>
  </div>
  <div class="footer-brand" style="margin-top:8px;font-size:12px;color:#94a3b8;">
    <span class="site-name">心理テスト集</span> ·     <a href="https://tests.mahalohana-bruce.com" style="color:#94a3b8;text-decoration:none;">tests.mahalohana-bruce.com</a>
  </div>
  <div class="copyright" style="margin-top:4px;font-size:12px;color:#94a3b8;">
    © 2025 Tests Mahalohana Bruce. All rights reserved.
  </div>
</footer>

  <script>
    // 質問データ - 20問
    const questions = [
      {
        q: 'あなたの理想的な一日は？',
        options: [
          { text: '友達と冒険に出かける', type: 'protagonist', score: 2 },
          { text: '一人で本を読みながら過ごす', type: 'sage', score: 2 },
          { text: 'みんなでワイワイ楽しく過ごす', type: 'moe', score: 2 },
          { text: '計画を立てて効率的に過ごす', type: 'cool', score: 2 }
        ]
      },
      {
        q: '困っている人を見つけた時、あなたは？',
        options: [
          { text: 'すぐに駆け寄って助ける', type: 'protagonist', score: 2 },
          { text: '様子を見てから判断する', type: 'cool', score: 2 },
          { text: '恥ずかしいけど心配になる', type: 'tsundere', score: 2 },
          { text: 'そっと手を差し伸べる', type: 'moe', score: 2 }
        ]
      },
      {
        q: '新しいグループに参加する時は？',
        options: [
          { text: '積極的に自己紹介する', type: 'protagonist', score: 2 },
          { text: '距離を置いて様子を見る', type: 'cool', score: 2 },
          { text: '人見知りするけど興味津々', type: 'moe', score: 2 },
          { text: '必要最小限の関わりにする', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: 'あなたの恋愛スタイルは？',
        options: [
          { text: 'まっすぐで情熱的', type: 'protagonist', score: 2 },
          { text: '素直になれない', type: 'tsundere', score: 2 },
          { text: '一途で深く愛する', type: 'yandere', score: 2 },
          { text: '甘えん坊で依存的', type: 'moe', score: 2 }
        ]
      },
      {
        q: 'ストレスを感じた時の対処法は？',
        options: [
          { text: '体を動かして発散する', type: 'protagonist', score: 2 },
          { text: '一人になって整理する', type: 'cool', score: 2 },
          { text: '信頼できる人に相談する', type: 'moe', score: 2 },
          { text: '表に出さずに我慢する', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '好きな人に対する行動は？',
        options: [
          { text: '素直に気持ちを伝える', type: 'protagonist', score: 2 },
          { text: 'つい意地悪してしまう', type: 'tsundere', score: 2 },
          { text: 'その人のことばかり考える', type: 'yandere', score: 2 },
          { text: '照れて話せなくなる', type: 'moe', score: 2 }
        ]
      },
      {
        q: 'リーダーシップについて？',
        options: [
          { text: '自然とリーダーになる', type: 'protagonist', score: 2 },
          { text: '冷静に指示を出す', type: 'cool', score: 2 },
          { text: 'みんなをサポートする', type: 'moe', score: 2 },
          { text: 'リーダーは他の人に任せる', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '失敗した時の反応は？',
        options: [
          { text: 'すぐに立ち直って再挑戦', type: 'protagonist', score: 2 },
          { text: '原因を分析して改善する', type: 'cool', score: 2 },
          { text: '落ち込んで泣いてしまう', type: 'moe', score: 2 },
          { text: '強がって平気なふりをする', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '友達との関係で大切にするのは？',
        options: [
          { text: '正義感と信頼関係', type: 'protagonist', score: 2 },
          { text: '適度な距離感', type: 'cool', score: 2 },
          { text: '深い絆と理解', type: 'yandere', score: 2 },
          { text: '楽しい時間を共有', type: 'moe', score: 2 }
        ]
      },
      {
        q: '自分の感情表現について？',
        options: [
          { text: 'ストレートに表現する', type: 'protagonist', score: 2 },
          { text: '感情を表に出さない', type: 'cool', score: 2 },
          { text: '素直になれない時がある', type: 'tsundere', score: 2 },
          { text: '感情が豊かで表情に出る', type: 'moe', score: 2 }
        ]
      },
      {
        q: '将来の夢や目標は？',
        options: [
          { text: '世界を変えるような大きな目標', type: 'protagonist', score: 2 },
          { text: '現実的で達成可能な目標', type: 'cool', score: 2 },
          { text: '大切な人と幸せに過ごす', type: 'moe', score: 2 },
          { text: '人には言えない秘密の夢', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '競争に対する態度は？',
        options: [
          { text: '燃える！全力で戦う', type: 'protagonist', score: 2 },
          { text: '戦略的に勝利を目指す', type: 'cool', score: 2 },
          { text: '勝ち負けより楽しさ重視', type: 'moe', score: 2 },
          { text: '本気を出すのが恥ずかしい', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '人からの注目について？',
        options: [
          { text: '注目されると燃える', type: 'protagonist', score: 2 },
          { text: '必要以上の注目は避ける', type: 'cool', score: 2 },
          { text: '恥ずかしくて隠れたくなる', type: 'moe', score: 2 },
          { text: '照れるけど嫌じゃない', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '大切なものを守る時は？',
        options: [
          { text: '全力で立ち向かう', type: 'protagonist', score: 2 },
          { text: '冷静に対策を考える', type: 'cool', score: 2 },
          { text: '何があっても絶対に守る', type: 'yandere', score: 2 },
          { text: '誰かに助けを求める', type: 'moe', score: 2 }
        ]
      },
      {
        q: '新しいことに挑戦する時は？',
        options: [
          { text: 'ワクワクして即行動', type: 'protagonist', score: 2 },
          { text: '情報収集してから判断', type: 'cool', score: 2 },
          { text: '不安だけど頑張る', type: 'moe', score: 2 },
          { text: '興味ないふりをする', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '理想の休日の過ごし方は？',
        options: [
          { text: 'アクティブに外で活動', type: 'protagonist', score: 2 },
          { text: '一人の時間を大切に', type: 'cool', score: 2 },
          { text: '好きな人とのんびり', type: 'yandere', score: 2 },
          { text: 'みんなで楽しく過ごす', type: 'moe', score: 2 }
        ]
      },
      {
        q: '秘密を知った時の行動は？',
        options: [
          { text: '正義のために行動する', type: 'protagonist', score: 2 },
          { text: '慎重に情報を整理する', type: 'cool', score: 2 },
          { text: 'その秘密を独占したい', type: 'yandere', score: 2 },
          { text: '誰かに相談したくなる', type: 'moe', score: 2 }
        ]
      },
      {
        q: 'プレゼントを選ぶ時は？',
        options: [
          { text: '相手が喜ぶものを一生懸命考える', type: 'protagonist', score: 2 },
          { text: '実用的で質の良いものを選ぶ', type: 'cool', score: 2 },
          { text: '自分の気持ちが伝わるものを', type: 'yandere', score: 2 },
          { text: 'かわいいものを選んでしまう', type: 'moe', score: 2 }
        ]
      },
      {
        q: '人生で最も大切にしたいものは？',
        options: [
          { text: '正義と友情', type: 'protagonist', score: 2 },
          { text: '知識と成長', type: 'sage', score: 2 },
          { text: '愛する人との絆', type: 'yandere', score: 2 },
          { text: '平和で幸せな日常', type: 'moe', score: 2 }
        ]
      },
      {
        q: '困難に直面した時の心境は？',
        options: [
          { text: 'やる気が湧いてくる', type: 'protagonist', score: 2 },
          { text: '冷静に解決策を探す', type: 'cool', score: 2 },
          { text: '不安で誰かに頼りたい', type: 'moe', score: 2 },
          { text: '一人で抱え込んでしまう', type: 'tsundere', score: 2 }
        ]
      }
    ];

    // 結果データ
    const results = {
      protagonist: {
        title: '主人公タイプ',
        subtitle: '熱血で正義感あふれる性格',
        emoji: '🔥',
        description: '情熱的で正義感が強い、みんなのリーダー的存在',
        fullDescription: 'あなたは周りを引っ張るリーダー気質の持ち主！困っている人を見ると放っておけない正義感と、どんな困難にも立ち向かう勇気を持っています。仲間を大切にし、みんなで一緒に成長していくことを望む、まさに物語の主人公のような性格です。',
        match: 'クールデレタイプ',
        matchDesc: '冷静で知的なクールデレとバランスの取れた関係を築けます',
        anime: ['少年ジャンプ系', 'バトル・アクション', 'スポーツアニメ', '冒険・ファンタジー'],
        characters: ['ナルト', '悟空', '炭治郎', 'ルフィ', 'デク']
      },
      tsundere: {
        title: 'ツンデレタイプ',
        subtitle: '外面はクール、内面は温かい',
        emoji: '💢',
        description: '素直になれないけど、本当は優しい性格',
        fullDescription: 'あなたは外見はクールでそっけないけれど、内面はとても温かく優しい心の持ち主！恥ずかしがり屋で素直になれないことが多いですが、本当に大切な人には深い愛情を注ぎます。そのギャップが周りの人を魅了する、とても魅力的な性格です。',
        match: '主人公タイプ',
        matchDesc: 'まっすぐな主人公タイプがあなたの本当の優しさを理解してくれます',
        anime: ['ラブコメ', '学園アニメ', '日常系', 'ロマンス'],
        characters: ['逢坂大河', '三日月夜空', '桂ヒナギク', '遠坂凛', '涼宮ハルヒ']
      },
      cool: {
        title: 'クールデレタイプ',
        subtitle: '冷静で知的な分析家',
        emoji: '❄️',
        description: '論理的で冷静、でも内面は温かい',
        fullDescription: 'あなたは冷静沈着で論理的思考が得意な知性派！感情に流されることなく、常に客観的に物事を判断できる能力を持っています。表面上はクールに見えますが、信頼できる人には温かい一面を見せる、奥深い魅力を持った性格です。',
        match: '主人公タイプ',
        matchDesc: '情熱的な主人公タイプとは正反対で、お互いを補完し合える関係',
        anime: ['SF・サイバーパンク', 'ミステリー', 'サスペンス', '心理戦'],
        characters: ['綾波レイ', '雪ノ下雪乃', 'セイバー', '暁美ほむら', '司波深雪']
      },
      yandere: {
        title: 'ヤンデレタイプ',
        subtitle: '強い愛情と独占欲を持つ',
        emoji: '🖤',
        description: '愛情深いけれど、時として重すぎる愛',
        fullDescription: 'あなたは愛情がとても深く、大切な人への想いが人一倍強い性格！一度心を許した相手には深い愛情と忠誠心を注ぎ、どんなことがあっても守り抜こうとします。時として重いと感じられることもありますが、それだけ真剣に人を愛せる純粋な心の持ち主です。',
        match: '萌えタイプ',
        matchDesc: '純真で優しい萌えタイプなら、あなたの愛情を素直に受け取ってくれます',
        anime: ['ホラー・サスペンス', 'ダークファンタジー', 'サイコロジカル', 'スリラー'],
        characters: ['我妻由乃', '桂言葉', '竜宮レナ', '向坂環', '黒崎一護']
      },
      moe: {
        title: '萌えタイプ',
        subtitle: '可愛くて純真な癒し系',
        emoji: '🌸',
        description: '天真爛漫で周りを癒す存在',
        fullDescription: 'あなたは純真無垢で天真爛漫な、見ているだけで周りを癒してしまう愛らしい性格！素直で優しく、自然体でいるだけで人々を笑顔にしてしまう特別な魅力を持っています。時には頼りないと思われることもありますが、その純粋さこそがあなたの最大の武器です。',
        match: 'ヤンデレタイプ',
        matchDesc: '保護欲の強いヤンデレタイプがあなたを大切に守ってくれます',
        anime: ['日常系・癒し', 'きらら系', 'ファミリー', 'コメディ'],
        characters: ['平沢唯', '桃井さつき', '千石撫子', '御坂美琴', '小鳥遊ひな']
      },
      sage: {
        title: '賢者タイプ',
        subtitle: '知恵深く神秘的な存在',
        emoji: '🧙‍♂️',
        description: '深い知識と洞察力を持つ',
        fullDescription: 'あなたは豊富な知識と深い洞察力を持つ、まさに賢者のような存在！物事の本質を見抜く能力に長け、困った時には的確なアドバイスをくれる頼れる存在です。神秘的で少し近寄りがたい印象を与えることもありますが、その奥深い知恵は多くの人に尊敬されています。',
        match: '主人公タイプ',
        matchDesc: '行動力のある主人公タイプに知恵を授けるメンター的な関係',
        anime: ['ファンタジー', '異世界', '魔法・超能力', '哲学的'],
        characters: ['ダンブルドア', 'ガンダルフ', '八九寺真宵', '長門有希', '千反田える']
      }
    };

    // テスト状態
    let selectedGender = '';
    let currentQuestion = 0;
    let answers = [];
    let scores = {
      protagonist: 0,
      tsundere: 0,
      cool: 0,
      yandere: 0,
      moe: 0,
      sage: 0
    };

    function selectGender(el, gender) {
      selectedGender = gender;

      document.querySelectorAll('.gender-option').forEach(option => {
        option.classList.remove('selected');
      });

      // Mark the clicked option as selected (without relying on a global event)
      el.classList.add('selected');
      document.getElementById('startBtn').disabled = false;
    }

    function startTest() {
      if (!selectedGender) return;

      document.getElementById('startScreen').classList.add('hidden');
      document.getElementById('questionScreen').classList.remove('hidden');

      showQuestion();
    }

    function showQuestion() {
      const question = questions[currentQuestion];

      document.getElementById('questionTitle').textContent = question.q;
      document.getElementById('questionNumber').textContent = `質問 ${currentQuestion + 1}`;

      const container = document.getElementById('answerContainer');
      container.innerHTML = '';

      const optionsDiv = document.createElement('div');
      optionsDiv.className = 'answer-options';

      question.options.forEach((option, index) => {
        const button = document.createElement('div');
        button.className = 'answer-option';
        button.textContent = option.text;
        button.onclick = () => selectAnswer(index);
        optionsDiv.appendChild(button);
      });

      container.appendChild(optionsDiv);

      updateProgress();
      document.getElementById('nextBtn').disabled = true;
    }

    function selectAnswer(index) {
      const question = questions[currentQuestion];

      document.querySelectorAll('.answer-option').forEach(option => {
        option.classList.remove('selected');
      });
      document.querySelectorAll('.answer-option')[index].classList.add('selected');

      const selectedOption = question.options[index];
      answers[currentQuestion] = selectedOption;

      scores[selectedOption.type] += selectedOption.score;

      document.getElementById('nextBtn').disabled = false;
    }

    function nextQuestion() {
      currentQuestion++;

      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        showLoading();
      }
    }

    function updateProgress() {
      const progress = ((currentQuestion + 1) / questions.length) * 100;
      const circumference = 2 * Math.PI * 52;
      const offset = circumference - (progress / 100) * circumference;
      
      document.querySelector('.progress-circle-fill').style.strokeDashoffset = offset;
      document.getElementById('progressCounter').textContent = `${currentQuestion + 1}/20`;
    }

    function showLoading() {
      document.getElementById('questionScreen').classList.add('hidden');
      document.getElementById('loadingScreen').classList.remove('hidden');

      setTimeout(() => {
        showResult();
      }, 3000);
    }

    function showResult() {
      document.getElementById('loadingScreen').classList.add('hidden');
      document.getElementById('resultScreen').classList.remove('hidden');
      document.getElementById('faqSection').classList.remove('hidden');

      // 最高スコアのタイプを決定
      let maxScore = 0;
      let resultType = 'protagonist';
      
      for (const [type, score] of Object.entries(scores)) {
        if (score > maxScore) {
          maxScore = score;
          resultType = type;
        }
      }

      const result = results[resultType];

      // 結果表示
      document.getElementById('resultEmoji').textContent = result.emoji;
      document.getElementById('resultTitle').textContent = result.title;
      document.getElementById('resultSubtitle').textContent = result.subtitle;
      document.getElementById('resultDescription').textContent = result.description;

      // 詳細情報
      document.getElementById('personalityContent').textContent = result.fullDescription;
      document.getElementById('matchContent').innerHTML = `
        <strong>${result.match}</strong><br>
        ${result.matchDesc}
      `;
      document.getElementById('animeContent').textContent = result.anime.join('、');

      // キャラクター一覧
      const charactersList = document.getElementById('charactersList');
      charactersList.innerHTML = result.characters.map(character => 
        `<span class="character-tag">${character}</span>`
      ).join('');

      // テスト完了イベント追跡
      trackEvent('test_completed', 'anime_personality');
    }

    function getShareText() {
      let maxScore = 0;
      let resultType = 'protagonist';
      
      for (const [type, score] of Object.entries(scores)) {
        if (score > maxScore) {
          maxScore = score;
          resultType = type;
        }
      }

      const result = results[resultType];

      return `🎭 アニメ性格診断の結果

🎯 私は${result.title}でした！
${result.fullDescription}

💕 相性の良いタイプ: ${result.match}
📺 おすすめアニメ: ${result.anime.join('、')}
👥 似ているキャラ: ${result.characters.slice(0, 3).join('、')}

✨ あなたも診断してみて: https://tests.mahalohana-bruce.com/anime-personality/ja/`;
    }

    function copyResult() {
      const text = getShareText();

      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(() => {
          alert('🎉 結果がクリップボードにコピーされました！');
        }).catch(() => {
          fallbackCopy(text);
        });
      } else {
        fallbackCopy(text);
      }
    }

    function fallbackCopy(text) {
      const textArea = document.createElement('textarea');
      textArea.value = text;
      textArea.style.position = 'fixed';
      textArea.style.opacity = '0';
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();

      try {
        document.execCommand('copy');
        alert('🎉 結果がクリップボードにコピーされました！');
      } catch (err) {
        alert('コピー機能がこのブラウザでサポートされていません。');
      }

      document.body.removeChild(textArea);
    }

    function shareTwitter() {
      let maxScore = 0;
      let resultType = 'protagonist';
      
      for (const [type, score] of Object.entries(scores)) {
        if (score > maxScore) {
          maxScore = score;
          resultType = type;
        }
      }

      const result = results[resultType];
      const text = `私は${result.title}でした！あなたも診断してみて♪ https://tests.mahalohana-bruce.com/anime-personality/ja/`;

      try {
        const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
        window.open(url, '_blank', 'noopener,noreferrer');
      } catch (err) {
        copyToClipboard(text);
        alert('テキストがコピーされました！Twitterに貼り付けてください。');
      }
    }

    function shareLine() {
      const text = getShareText();
      try {
        const url = `https://social-plugins.line.me/lineit/share?url=${encodeURIComponent('https://tests.mahalohana-bruce.com/anime-personality/ja/')}&text=${encodeURIComponent(text)}`;
        window.open(url, '_blank', 'noopener,noreferrer');
      } catch (err) {
        copyToClipboard(text);
        alert('テキストがコピーされました！LINEに貼り付けてください。');
      }
    }

    function shareFacebook() {
      try {
        const url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent('https://tests.mahalohana-bruce.com/anime-personality/ja/')}`;
        window.open(url, '_blank', 'noopener,noreferrer');
      } catch (err) {
        const text = 'アニメ性格診断テスト https://tests.mahalohana-bruce.com/anime-personality/ja/';
        copyToClipboard(text);
        alert('テキストがコピーされました！Facebookに貼り付けてください。');
      }
    }

    function copyToClipboard(text) {
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).catch(() => {
          fallbackCopy(text);
        });
      } else {
        fallbackCopy(text);
      }
    }

    function restartTest() {
      selectedGender = '';
      currentQuestion = 0;
      answers = [];
      scores = {
        protagonist: 0,
        tsundere: 0,
        cool: 0,
        yandere: 0,
        moe: 0,
        sage: 0
      };

      document.getElementById('resultScreen').classList.add('hidden');
      document.getElementById('faqSection').classList.add('hidden');
      document.getElementById('startScreen').classList.remove('hidden');

      document.querySelectorAll('.gender-option').forEach(option => {
        option.classList.remove('selected');
      });

      document.getElementById('startBtn').disabled = true;
    }

    function goToMainPage() {
      window.location.href = '/ja/';
    }

    // Google Analytics イベント追跡
    function trackEvent(action, category = 'engagement') {
      if (typeof gtag !== 'undefined') {
        gtag('event', action, {
          event_category: category,
          event_label: 'ja'
        });
      }
    }

    // ダークモード機能
    let isDarkMode = localStorage.getItem('darkMode') === 'true';

    function updateTheme() {
      const themeToggle = document.querySelector('.theme-toggle');
      const icon = themeToggle.querySelector('i');

      if (isDarkMode) {
        document.documentElement.setAttribute('data-theme', 'dark');
        icon.className = 'fas fa-sun';
      } else {
        document.documentElement.removeAttribute('data-theme');
        icon.className = 'fas fa-moon';
      }

      localStorage.setItem('darkMode', isDarkMode);
    }

    // 귀여운 이모지 파티클 생성
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      const particleCount = 20;

      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 8 + 's';
        particle.style.animationDuration = (Math.random() * 4 + 8) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      updateTheme();
      createParticles();

      // テーマトグルイベントリスナー
      document.querySelector('.theme-toggle').addEventListener('click', () => {
        isDarkMode = !isDarkMode;
        updateTheme();
      });
    });
  </script>
  <script defer src="/assets/analytics-enhanced.js"></script>
</body>
</html>
