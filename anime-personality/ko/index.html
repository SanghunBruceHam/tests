<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
  <title>애니메이션 성격 진단 | 나의 애니 캐릭터 타입은? - 무료 심리테스트</title>
  <meta name="description" content="🎭 나는 주인공형? 츤데레형? 6가지 애니메이션 캐릭터 타입으로 성격 진단! 20문항으로 알아보는 나의 진짜 성격과 찰떡궁합 캐릭터 타입" />
  <meta name="keywords" content="애니메이션 성격진단, 애니 캐릭터 타입, 심리테스트 무료, 츤데레 진단, 주인공 타입, 애니메이션 성격분석, 캐릭터 진단, 일본 애니메, 2차원 진단, 오타쿠 진단" />

  <!-- Open Graph Meta Tags -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="🎭 애니메이션 성격 진단 | 나의 애니 캐릭터 타입 발견!" />
  <meta property="og:description" content="주인공, 츤데레, 쿨계열 등 6가지 애니메이션 캐릭터 타입으로 성격 진단! 20문항의 무료 심리테스트 🎯" />
  <meta property="og:image" content="https://tests.mahalohana-bruce.com/anime-personality/ko/thumbnail.png" />
  <meta property="og:locale" content="ko_KR" />
  <meta property="og:site_name" content="애니메이션 성격 진단 테스트" />
  <meta property="og:url" content="https://tests.mahalohana-bruce.com/anime-personality/ko/" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="🎭 애니메이션 성격 진단 | 나의 애니 캐릭터 타입 발견!" />
  <meta name="twitter:description" content="주인공, 츤데레, 쿨계열 등 6가지 애니메이션 캐릭터 타입으로 성격 진단! 20문항의 무료 심리테스트 🎯" />
  <meta name="twitter:image" content="https://tests.mahalohana-bruce.com/anime-personality/ko/thumbnail.png" />
  <meta name="twitter:site" content="@tests_mahalohana" />
  <meta name="twitter:creator" content="@mahalohana_bruce" />

  <!-- Enhanced Social Media Exposure -->
  <meta property="article:publisher" content="https://www.facebook.com/testsmahalohana" />
  <meta property="article:author" content="https://www.facebook.com/mahalohanabruce" />
  <meta property="article:tag" content="anime personality" />
  <meta property="article:tag" content="character type" />
  <meta property="article:tag" content="personality test" />

  <!-- Additional Twitter Optimization -->
  <meta name="twitter:label1" content="테스트 유형">
  <meta name="twitter:data1" content="성격 분석">
  <meta name="twitter:label2" content="소요 시간">
  <meta name="twitter:data2" content="2-3분">

  <!-- Search Engine Discovery -->
  <meta name="robots" content="index, follow, max-image-preview:large, max-snippet:-1, max-video-preview:-1">
  <meta name="theme-color" content="#667eea">

  <link rel="icon" href="./favicon.png" type="image/png" />
  <link rel="canonical" href="https://tests.mahalohana-bruce.com/anime-personality/ko/" />

  <!-- hreflang for multilingual SEO -->
  <link rel="alternate" hreflang="ko" href="https://tests.mahalohana-bruce.com/anime-personality/ko/" />
  <link rel="alternate" hreflang="ja" href="https://tests.mahalohana-bruce.com/anime-personality/ja/" />
  <link rel="alternate" hreflang="x-default" href="https://tests.mahalohana-bruce.com/anime-personality/ko/" />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-45VSGEM7EZ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-45VSGEM7EZ');
  </script>

  <!-- JSON-LD Structured Data -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebApplication",
  "name": "애니메이션 성격 진단 테스트",
  "description": "당신의 애니메이션 캐릭터 성격 타입을 진단하는 무료 심리테스트. 주인공, 츤데레, 쿨계열 등 6가지 타입으로 분석",
  "url": "https://tests.mahalohana-bruce.com/anime-personality/ko/",
  "applicationCategory": "Entertainment",
  "operatingSystem": "Any",
  "offers": {
    "@type": "Offer",
    "price": "0",
    "priceCurrency": "KRW"
  },
  "inLanguage": "ko",
  "datePublished": "2025-08-05T00:00:00.000Z",
  "dateModified": "2025-08-05T00:00:00.000Z",
  "isAccessibleForFree": true,
  "interactionStatistic": [
    {
      "@type": "InteractionCounter",
      "interactionType": "https://schema.org/ShareAction",
      "userInteractionCount": "0"
    },
    {
      "@type": "InteractionCounter", 
      "interactionType": "https://schema.org/ViewAction",
      "userInteractionCount": "0"
    }
  ],
  "author": {
    "@type": "Organization",
    "name": "심리테스트 연구소",
    "url": "https://tests.mahalohana-bruce.com"
  },
  "publisher": {
    "@type": "Organization",
    "name": "심리테스트 연구소",
    "logo": {
      "@type": "ImageObject",
      "url": "https://tests.mahalohana-bruce.com/anime-personality/ko/favicon.png"
    }
  }
}
</script>

  <link rel="preload" href="https://fonts.googleapis.com/css2?family=Gmarket+Sans:wght@400;700&display=swap" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link href="https://fonts.googleapis.com/css2?family=Gmarket+Sans:wght@400;700&display=swap" rel="stylesheet"></noscript>
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
  <noscript><link href="https://cdn.jsdelivr.net/gh/sunn-us/SUIT/fonts/static/woff2/SUIT.css" rel="stylesheet"></noscript>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

  <!-- Google AdSense Auto Ads -->
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5508768187151867" crossorigin="anonymous"></script>

  <!-- 공통 테마 CSS -->
  <link rel="stylesheet" href="/assets/common-theme.css">

  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Gmarket Sans', 'SUIT', 'Pretendard', 'Noto Sans KR', sans-serif;
      background: linear-gradient(135deg, #ffb3e6 0%, #ffccf9 25%, #e6ccff 50%, #ccf2ff 75%, #ffffcc 100%);
      background-size: 400% 400%;
      animation: gradientAnimation 8s ease infinite;
      min-height: 100vh;
      padding: 20px;
      color: #2d3748;
      overflow-x: hidden;
      position: relative;
    }

    @keyframes gradientAnimation {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    [data-theme="dark"] body {
      background: linear-gradient(135deg, #2d1b69 0%, #1a1a3e 25%, #0f1419 50%, #1a237e 75%, #3949ab 100%);
      background-size: 400% 400%;
      color: #ffffff;
    }

    /* 귀여운 떠다니는 이모지 */
    .particles {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 0;
      pointer-events: none;
    }

    .particle {
      position: absolute;
      font-size: 20px;
      animation: float 8s ease-in-out infinite;
      opacity: 0.7;
    }

    .particle:nth-child(1)::before { content: '🌸'; }
    .particle:nth-child(2)::before { content: '⭐'; }
    .particle:nth-child(3)::before { content: '💫'; }
    .particle:nth-child(4)::before { content: '🎀'; }
    .particle:nth-child(5)::before { content: '💖'; }
    .particle:nth-child(6)::before { content: '🌙'; }
    .particle:nth-child(7)::before { content: '✨'; }
    .particle:nth-child(8)::before { content: '🦄'; }

    .particle:nth-child(2n) {
      animation-delay: -2s;
      animation-duration: 10s;
    }

    .particle:nth-child(3n) {
      animation-delay: -4s;
      animation-duration: 12s;
    }

    @keyframes float {
      0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }
      10% { opacity: 0.7; }
      90% { opacity: 0.7; }
      100% { transform: translateY(-20vh) rotate(360deg); opacity: 0; }
    }

    .container {
      max-width: 90vw;
      margin: 0 auto;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      z-index: 10;
      padding: 20px;
    }

    .header-controls {
      position: fixed;
      top: 30px;
      right: 30px;
      z-index: 1000;
    }

    .theme-toggle {
      padding: 12px;
      border: 2px solid #ff69b4;
      background: rgba(255, 255, 255, 0.9);
      color: #ff69b4;
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
      width: 50px;
      height: 50px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    .theme-toggle:hover {
      box-shadow: 0 6px 20px rgba(255, 105, 180, 0.5);
      transform: scale(1.1) rotate(15deg);
    }

    [data-theme="dark"] .theme-toggle {
      border-color: #9c88ff;
      color: #9c88ff;
      background: rgba(30, 30, 50, 0.9);
      box-shadow: 0 4px 15px rgba(156, 136, 255, 0.3);
    }

    .card {
      background: rgba(255, 255, 255, 0.95);
      border: 3px solid #ff69b4;
      border-radius: 30px;
      padding: 40px;
      backdrop-filter: blur(10px);
      box-shadow: 
        0 15px 35px rgba(255, 105, 180, 0.3),
        0 5px 15px rgba(0, 0, 0, 0.1);
      width: 100%;
      max-width: 520px;
      position: relative;
      overflow: hidden;
      transition: all 0.4s ease;
    }

    .card::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #ff69b4, #ff1493, #ff69b4, #ffc0cb);
      background-size: 400% 400%;
      border-radius: 32px;
      z-index: -1;
      animation: borderShimmer 3s ease-in-out infinite;
    }

    @keyframes borderShimmer {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    .card:hover {
      transform: translateY(-8px) scale(1.02);
      box-shadow: 
        0 25px 50px rgba(255, 105, 180, 0.4),
        0 10px 25px rgba(0, 0, 0, 0.15);
    }

    [data-theme="dark"] .card {
      background: rgba(30, 30, 50, 0.95);
      border-color: #9c88ff;
      color: #ffffff;
    }

    [data-theme="dark"] .card::before {
      background: linear-gradient(45deg, #9c88ff, #7c4dff, #9c88ff, #b39ddb);
      background-size: 400% 400%;
    }

    /* Header */
    .header {
      text-align: center;
      margin-bottom: 40px;
      position: relative;
    }

    .title {
      font-family: 'Comic Sans MS', cursive, 'Gmarket Sans', sans-serif;
      font-size: 28px;
      font-weight: 800;
      margin-bottom: 16px;
      line-height: 1.3;
      background: linear-gradient(45deg, #ff69b4, #ff1493, #ffc0cb, #ff69b4);
      background-size: 300% 300%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: cuteGradient 4s ease-in-out infinite;
      text-shadow: 2px 2px 4px rgba(255, 105, 180, 0.3);
      position: relative;
    }

    .title::before {
      content: '✨';
      position: absolute;
      left: -40px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 24px;
      animation: sparkle 2s ease-in-out infinite;
    }

    .title::after {
      content: '✨';
      position: absolute;
      right: -40px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 24px;
      animation: sparkle 2s ease-in-out infinite 1s;
    }

    @keyframes cuteGradient {
      0%, 100% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
    }

    @keyframes sparkle {
      0%, 100% { transform: translateY(-50%) scale(1); opacity: 1; }
      50% { transform: translateY(-50%) scale(1.5); opacity: 0.5; }
    }

    .subtitle {
      font-size: 16px;
      color: #666;
      margin-bottom: 28px;
      line-height: 1.6;
    }

    [data-theme="dark"] .subtitle {
      color: #cccccc;
    }

    .info-badge {
      display: inline-flex;
      align-items: center;
      background: linear-gradient(45deg, #ff69b4, #ff1493);
      color: white;
      padding: 10px 18px;
      border-radius: 25px;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      text-decoration: none;
      box-shadow: 0 4px 15px rgba(255, 105, 180, 0.4);
      border: 2px solid rgba(255, 255, 255, 0.3);
    }

    .info-badge:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 8px 25px rgba(255, 105, 180, 0.6);
    }

    .info-badge::before {
      content: '💡';
      margin-right: 6px;
    }

    /* Kawaii Gender Selection */
    .gender-section h3 {
      text-align: center;
      font-size: 22px;
      font-weight: 700;
      margin-bottom: 28px;
      color: #2d3748;
      position: relative;
    }

    .gender-section h3::before {
      content: '👫';
      margin-right: 8px;
    }

    [data-theme="dark"] .gender-section h3 {
      color: #ffffff;
    }

    .gender-options {
      display: grid;
      gap: 16px;
      margin-bottom: 32px;
    }

    .gender-option {
      display: flex;
      align-items: center;
      padding: 20px 24px;
      border: 3px solid #ffc0cb;
      border-radius: 20px;
      cursor: pointer;
      transition: all 0.3s ease;
      background: rgba(255, 192, 203, 0.1);
      position: relative;
      overflow: hidden;
    }

    .gender-option::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 105, 180, 0.2), transparent);
      transition: left 0.5s ease;
    }

    .gender-option:hover {
      border-color: #ff69b4;
      background: rgba(255, 105, 180, 0.15);
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(255, 105, 180, 0.3);
    }

    .gender-option:hover::before {
      left: 100%;
    }

    .gender-option.selected {
      border-color: #ff1493;
      background: linear-gradient(45deg, rgba(255, 20, 147, 0.2), rgba(255, 105, 180, 0.2));
      box-shadow: 0 8px 25px rgba(255, 20, 147, 0.4);
      color: #ff1493;
      transform: scale(1.02);
    }

    [data-theme="dark"] .gender-option {
      border-color: #9c88ff;
      background: rgba(156, 136, 255, 0.1);
    }

    [data-theme="dark"] .gender-option.selected {
      border-color: #7c4dff;
      background: rgba(124, 77, 255, 0.2);
      color: #b39ddb;
    }

    .gender-icon {
      font-size: 24px;
      margin-right: 16px;
      width: 30px;
      text-align: center;
    }

    .gender-text {
      flex: 1;
      font-size: 18px;
      font-weight: 600;
    }

    .radio-circle {
      width: 24px;
      height: 24px;
      border: 3px solid #ffc0cb;
      border-radius: 50%;
      position: relative;
      transition: all 0.3s ease;
    }

    .gender-option.selected .radio-circle {
      border-color: #ff1493;
      animation: bounce 0.5s ease;
    }

    @keyframes bounce {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }

    .gender-option.selected .radio-circle::after {
      content: '💖';
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 12px;
    }

    /* Kawaii Circular Progress */
    .progress-section {
      margin-bottom: 40px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .progress-circle {
      position: relative;
      width: 100px;
      height: 100px;
      margin-bottom: 16px;
    }

    .progress-ring {
      transform: rotate(-90deg);
      width: 100px;
      height: 100px;
    }

    .progress-ring circle {
      stroke: #ffc0cb;
      stroke-width: 6;
      fill: transparent;
      r: 42;
      cx: 50;
      cy: 50;
    }

    .progress-ring .progress-circle-fill {
      stroke: url(#progressGradient);
      stroke-dasharray: 264;
      stroke-dashoffset: 264;
      transition: stroke-dashoffset 0.5s ease;
      stroke-linecap: round;
    }

    .progress-counter {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      font-size: 16px;
      font-weight: 700;
      color: #ff1493;
      text-shadow: 0 0 10px rgba(255, 20, 147, 0.5);
    }

    [data-theme="dark"] .progress-counter {
      color: #b39ddb;
    }

    .progress-label {
      font-size: 14px;
      color: #666;
      font-weight: 600;
      text-align: center;
    }

    [data-theme="dark"] .progress-label {
      color: #cccccc;
    }

    /* Cute Question Section */
    .question-section {
      text-align: center;
    }

    .question-number {
      display: inline-block;
      background: linear-gradient(45deg, #ff69b4, #ff1493);
      color: white;
      padding: 8px 16px;
      border-radius: 20px;
      font-size: 14px;
      font-weight: 700;
      margin-bottom: 24px;
      box-shadow: 0 4px 15px rgba(255, 105, 180, 0.4);
      animation: questionPulse 2s ease-in-out infinite;
    }

    @keyframes questionPulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }

    .question-title {
      font-size: 24px;
      font-weight: 700;
      margin-bottom: 32px;
      line-height: 1.4;
      color: #2d3748;
      animation: fadeInUp 0.8s ease-out;
    }

    [data-theme="dark"] .question-title {
      color: #ffffff;
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Kawaii Answer Options */
    .answer-options {
      display: grid;
      gap: 12px;
      margin-bottom: 32px;
    }

    .answer-option {
      padding: 18px 20px;
      background: rgba(255, 255, 255, 0.98);
      border: 2px solid #ffc0cb;
      border-radius: 18px;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 16px;
      line-height: 1.5;
      text-align: left;
      color: #0f172a;
      font-weight: 700;
      position: relative;
      overflow: hidden;
      backdrop-filter: blur(5px);
      text-shadow: 0 1px 2px rgba(255, 255, 255, 0.8);
    }

    .answer-option::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255, 105, 180, 0.2), transparent);
      transition: left 0.4s ease;
    }

    .answer-option:hover {
      border-color: #ff69b4;
      background: rgba(255, 255, 255, 1);
      transform: translateX(8px);
      box-shadow: 0 5px 15px rgba(255, 105, 180, 0.3);
      color: #0f172a;
      text-shadow: 0 1px 3px rgba(255, 255, 255, 1);
    }

    .answer-option:hover::before {
      left: 100%;
    }

    .answer-option.selected {
      border-color: #ff1493;
      background: rgba(255, 255, 255, 1);
      box-shadow: 0 8px 20px rgba(255, 20, 147, 0.4);
      color: #831843;
      font-weight: 800;
      transform: scale(1.02);
      animation: selectedBounce 0.5s ease;
      text-shadow: 0 1px 3px rgba(255, 255, 255, 1);
      border-width: 3px;
    }

    @keyframes selectedBounce {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1.02); }
    }

    [data-theme="dark"] .answer-option {
      background: rgba(15, 15, 30, 0.98);
      border-color: #9c88ff;
      color: #f8fafc;
      font-weight: 700;
      text-shadow: 0 1px 2px rgba(0, 0, 0, 0.8);
    }

    [data-theme="dark"] .answer-option:hover {
      background: rgba(15, 15, 30, 1);
      color: #ffffff;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 1);
    }

    [data-theme="dark"] .answer-option.selected {
      border-color: #7c4dff;
      background: rgba(15, 15, 30, 1);
      color: #f1f5f9;
      font-weight: 800;
      text-shadow: 0 1px 3px rgba(0, 0, 0, 1);
      border-width: 3px;
    }

    /* Magical Buttons */
    .btn {
      width: 100%;
      padding: 18px 32px;
      border: 3px solid #ff69b4;
      border-radius: 25px;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
    }

    .btn-primary {
      background: linear-gradient(45deg, #ff69b4, #ff1493);
      color: white;
      box-shadow: 0 6px 20px rgba(255, 105, 180, 0.4);
      border-color: transparent;
    }

    .btn-primary::before {
      content: '🌟';
      position: absolute;
      top: 50%;
      left: 20px;
      transform: translateY(-50%);
      animation: starSpin 2s linear infinite;
    }

    .btn-primary::after {
      content: '🌟';
      position: absolute;
      top: 50%;
      right: 20px;
      transform: translateY(-50%);
      animation: starSpin 2s linear infinite reverse;
    }

    @keyframes starSpin {
      from { transform: translateY(-50%) rotate(0deg); }
      to { transform: translateY(-50%) rotate(360deg); }
    }

    .btn-primary:hover:not(:disabled) {
      box-shadow: 0 10px 30px rgba(255, 105, 180, 0.6);
      transform: translateY(-3px) scale(1.02);
    }

    .btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none !important;
      box-shadow: none;
    }

    /* Magical Loading Screen */
    .loading-section {
      text-align: center;
      padding: 80px 0;
    }

    .loading-spinner {
      width: 80px;
      height: 80px;
      margin: 0 auto 32px;
      position: relative;
    }

    .loading-ring {
      position: absolute;
      width: 80px;
      height: 80px;
      border: 4px solid transparent;
      border-top: 4px solid #ff69b4;
      border-right: 4px solid #ff1493;
      border-radius: 50%;
      animation: magicSpin 1.5s linear infinite;
      box-shadow: 0 0 20px rgba(255, 105, 180, 0.5);
    }

    .loading-ring:nth-child(2) {
      width: 60px;
      height: 60px;
      top: 10px;
      left: 10px;
      border-top: 4px solid #ffc0cb;
      border-right: 4px solid #ff69b4;
      animation: magicSpin 1s linear infinite reverse;
    }

    .loading-ring:nth-child(3) {
      width: 40px;
      height: 40px;
      top: 20px;
      left: 20px;
      border-top: 4px solid #ff1493;
      border-right: 4px solid #ffc0cb;
      animation: magicSpin 2s linear infinite;
    }

    @keyframes magicSpin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .loading-text {
      font-size: 18px;
      font-weight: 700;
      color: #2d3748;
      animation: loadingGlow 2s ease-in-out infinite alternate;
    }

    [data-theme="dark"] .loading-text {
      color: #ffffff;
    }

    @keyframes loadingGlow {
      from { text-shadow: 0 0 10px rgba(255, 105, 180, 0.5); }
      to { text-shadow: 0 0 20px rgba(255, 20, 147, 0.8); }
    }

    /* Gacha-style Result Screen */
    .result-section {
      text-align: center;
    }

    .result-header {
      background: linear-gradient(45deg, rgba(255, 105, 180, 0.2), rgba(255, 192, 203, 0.2));
      border: 2px solid #ff69b4;
      border-radius: 20px;
      padding: 24px 20px;
      margin-bottom: 20px;
      position: relative;
      overflow: hidden;
    }

    [data-theme="dark"] .result-header {
      background: linear-gradient(45deg, rgba(156, 136, 255, 0.2), rgba(179, 157, 219, 0.2));
      border-color: #9c88ff;
    }

    .result-header::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%);
      animation: shimmer 3s linear infinite;
    }

    @keyframes shimmer {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .result-emoji {
      font-size: 80px;
      margin-bottom: 16px;
      display: block;
      animation: characterReveal 1s ease-out;
    }

    @keyframes characterReveal {
      0% { transform: scale(0) rotate(180deg); opacity: 0; }
      50% { transform: scale(1.2) rotate(0deg); opacity: 1; }
      100% { transform: scale(1) rotate(0deg); opacity: 1; }
    }

    .result-title {
      font-size: 32px;
      font-weight: 900;
      margin-bottom: 12px;
      color: #ff1493;
      text-shadow: 
        2px 2px 0px #ffffff,
        -2px -2px 0px #ffffff,
        2px -2px 0px #ffffff,
        -2px 2px 0px #ffffff,
        3px 3px 5px rgba(255, 20, 147, 0.3);
      font-family: 'Gmarket Sans', 'SUIT', sans-serif;
      letter-spacing: 1px;
    }

    [data-theme="dark"] .result-title {
      color: #ff69b4;
      text-shadow: 
        2px 2px 0px #0f0f1f,
        -2px -2px 0px #0f0f1f,
        2px -2px 0px #0f0f1f,
        -2px 2px 0px #0f0f1f,
        3px 3px 10px rgba(255, 105, 180, 0.5);
    }

    .result-subtitle {
      font-size: 18px;
      color: #2d3748;
      margin-bottom: 16px;
      font-weight: 700;
      background: rgba(255, 255, 255, 0.8);
      padding: 8px 16px;
      border-radius: 20px;
      display: inline-block;
      border: 2px solid #ffc0cb;
    }

    [data-theme="dark"] .result-subtitle {
      color: #f7fafc;
      background: rgba(30, 30, 50, 0.8);
      border-color: #9c88ff;
    }

    .result-description {
      font-size: 16px;
      color: #1a202c;
      line-height: 1.6;
      font-weight: 600;
      margin-top: 10px;
    }

    [data-theme="dark"] .result-description {
      color: #f7fafc;
    }

    /* Kawaii Result Cards */
    .result-cards {
      display: grid;
      gap: 16px;
      margin-bottom: 20px;
    }

    .result-card {
      background: rgba(255, 255, 255, 0.9);
      border: 2px solid #ffc0cb;
      border-radius: 18px;
      padding: 18px;
      text-align: left;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .result-card:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 20px rgba(255, 105, 180, 0.2);
      border-color: #ff69b4;
    }

    [data-theme="dark"] .result-card {
      background: rgba(30, 30, 50, 0.9);
      border-color: #9c88ff;
    }

    .result-card-title {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 10px;
      color: #2d3748;
      display: flex;
      align-items: center;
    }

    [data-theme="dark"] .result-card-title {
      color: #ffffff;
    }

    .result-card-title::before {
      margin-right: 8px;
      font-size: 18px;
    }

    .result-card-title.personality::before { content: '🎭'; }
    .result-card-title.match::before { content: '💕'; }
    .result-card-title.anime::before { content: '📺'; }
    .result-card-title.characters::before { content: '👥'; }

    .result-card-content {
      font-size: 14px;
      line-height: 1.5;
      color: #2d3748;
    }

    [data-theme="dark"] .result-card-content {
      color: #e0e0e0;
    }

    .character-list {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }

    .character-tag {
      background: linear-gradient(45deg, #ff69b4, #ffc0cb);
      color: white;
      padding: 6px 12px;
      border-radius: 20px;
      font-size: 12px;
      font-weight: 600;
      box-shadow: 0 2px 8px rgba(255, 105, 180, 0.3);
    }

    [data-theme="dark"] .character-tag {
      background: linear-gradient(45deg, #9c88ff, #b39ddb);
    }

    /* Kawaii Share Section */
    .share-section {
      margin-top: 24px;
    }

    .share-title {
      font-size: 18px;
      font-weight: 700;
      text-align: center;
      margin-bottom: 16px;
      color: #2d3748;
    }

    .share-title::before {
      content: '📢 ';
    }

    [data-theme="dark"] .share-title {
      color: #ffffff;
    }

    .share-buttons {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 12px;
      margin-bottom: 16px;
    }

    .share-btn {
      padding: 14px 12px;
      border: none;
      border-radius: 15px;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 6px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .share-btn:hover {
      transform: translateY(-3px) scale(1.05);
    }

    .share-btn.twitter {
      background: linear-gradient(45deg, #000000, #333333);
      color: white;
    }

    .share-btn.kakao {
      background: linear-gradient(45deg, #FEE500, #FFEB3B);
      color: #000;
    }

    .share-btn.facebook {
      background: linear-gradient(45deg, #1877f2, #42a5f5);
      color: white;
    }

    .share-btn.copy {
      background: linear-gradient(45deg, #10b981, #4ade80);
      color: white;
    }

    .action-buttons {
      display: grid;
      gap: 12px;
    }

    .action-btn {
      padding: 16px;
      border: 2px solid #ff69b4;
      border-radius: 15px;
      background: rgba(255, 255, 255, 0.9);
      color: #2d3748;
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(5px);
    }

    .action-btn:hover {
      border-color: #ff1493;
      background: rgba(255, 105, 180, 0.1);
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255, 105, 180, 0.3);
    }

    [data-theme="dark"] .action-btn {
      background: rgba(30, 30, 50, 0.9);
      border-color: #9c88ff;
      color: #ffffff;
    }

    [data-theme="dark"] .action-btn:hover {
      border-color: #7c4dff;
      background: rgba(124, 77, 255, 0.2);
    }

    /* Responsive */
    @media (max-width: 480px) {
      .container {
        padding: 10px;
      }

      .card {
        padding: 24px;
        max-width: 95vw;
      }

      .title {
        font-size: 24px;
      }

      .title::before,
      .title::after {
        display: none;
      }

      .question-title {
        font-size: 20px;
      }

      .progress-circle {
        width: 80px;
        height: 80px;
      }

      .progress-ring {
        width: 80px;
        height: 80px;
      }

      .progress-ring circle {
        r: 32;
        cx: 40;
        cy: 40;
      }
    }

    .hidden {
      display: none;
    }

    /* Kawaii FAQ Section */
    .faq-section {
      margin-top: 32px;
      padding: 24px;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid #ffc0cb;
      border-radius: 20px;
      backdrop-filter: blur(10px);
    }

    [data-theme="dark"] .faq-section {
      background: rgba(30, 30, 50, 0.3);
      border-color: #9c88ff;
    }

    .faq-title {
      font-size: 22px;
      font-weight: 800;
      margin-bottom: 24px;
      text-align: center;
      color: #2d3748;
      font-family: 'Comic Sans MS', cursive, sans-serif;
    }

    [data-theme="dark"] .faq-title {
      color: #ffffff;
    }

    .faq-item {
      margin-bottom: 16px;
      padding: 16px;
      background: rgba(255, 255, 255, 0.8);
      border-radius: 15px;
      transition: all 0.3s ease;
      border: 1px solid #ffc0cb;
    }

    .faq-item:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 15px rgba(255, 105, 180, 0.2);
    }

    [data-theme="dark"] .faq-item {
      background: rgba(30, 30, 50, 0.6);
      border-color: #9c88ff;
    }

    .faq-question {
      font-size: 15px;
      font-weight: 700;
      margin-bottom: 10px;
      color: #2d3748;
      cursor: pointer;
      display: flex;
      align-items: center;
    }

    [data-theme="dark"] .faq-question {
      color: #ffffff;
    }

    .faq-question::before {
      content: '🤔';
      margin-right: 8px;
      font-size: 16px;
    }

    .faq-answer {
      font-size: 13px;
      line-height: 1.6;
      color: #2d3748;
      padding-left: 24px;
    }

    [data-theme="dark"] .faq-answer {
      color: #e0e0e0;
    }

    /* 개선된 광고 섹션 스타일 */
    .ad-section {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(15px);
      border-radius: 25px;
      padding: 35px;
      margin: 50px auto 40px;
      max-width: 850px;
      text-align: center;
      border: 3px solid #ff69b4;
      box-shadow: 
        0 15px 35px rgba(255, 105, 180, 0.25),
        0 5px 15px rgba(0, 0, 0, 0.1);
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .ad-section::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, #ff69b4, #ff1493, #ffc0cb, #ff69b4);
      background-size: 300% 300%;
      border-radius: 27px;
      z-index: -1;
      animation: borderShimmer 4s ease-in-out infinite;
    }

    .ad-section:hover {
      transform: translateY(-5px);
      box-shadow: 
        0 20px 40px rgba(255, 105, 180, 0.3),
        0 8px 20px rgba(0, 0, 0, 0.15);
    }

    .ad-title {
      color: #5a4fcf;
      margin-bottom: 15px;
      font-size: 1.5rem;
      font-weight: 800;
      text-shadow: 2px 2px 4px rgba(90, 79, 207, 0.2);
      background: linear-gradient(45deg, #5a4fcf, #ff69b4, #5a4fcf);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: cuteGradient 3s ease-in-out infinite;
    }

    .ad-description {
      color: #666;
      font-size: 1.1rem;
      margin-bottom: 25px;
      font-weight: 600;
      line-height: 1.5;
    }

    .ad-container {
      margin: 25px 0;
      width: 100%;
      max-width: 750px;
      margin-left: auto;
      margin-right: auto;
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
    }

    .coupang-ad {
      width: 100%;
      max-width: 750px;
      border-radius: 20px;
      overflow: hidden;
    }

    .ad-disclaimer {
      color: #888;
      font-size: 0.85rem;
      margin-top: 20px;
      font-style: italic;
      line-height: 1.4;
      background: rgba(136, 136, 136, 0.1);
      padding: 10px 20px;
      border-radius: 15px;
      border-left: 4px solid #ff69b4;
    }

    /* 다크 테마용 광고 섹션 */
    [data-theme="dark"] .ad-section {
      background: rgba(30, 30, 50, 0.95);
      border-color: #9c88ff;
    }

    [data-theme="dark"] .ad-section::before {
      background: linear-gradient(45deg, #9c88ff, #7c4dff, #b39ddb, #9c88ff);
      background-size: 300% 300%;
    }

    [data-theme="dark"] .ad-title {
      color: #9c88ff;
      background: linear-gradient(45deg, #9c88ff, #ff69b4, #9c88ff);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    [data-theme="dark"] .ad-description {
      color: #ccc;
    }

    [data-theme="dark"] .ad-disclaimer {
      color: #aaa;
      background: rgba(170, 170, 170, 0.1);
      border-left-color: #9c88ff;
    }

    /* 모바일 반응형 */
    @media (max-width: 768px) {
      .ad-section {
        margin: 30px 20px;
        padding: 25px 20px;
        border-radius: 20px;
      }

      .ad-title {
        font-size: 1.3rem;
      }

      .ad-description {
        font-size: 1rem;
      }

      .ad-container {
        max-width: 100%;
      }
    }

    /* 개선된 푸터 스타일 */
    .footer {
      text-align: center;
      margin-top: 60px;
      padding: 40px 20px;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-radius: 30px 30px 0 0;
      border-top: 4px solid #ff69b4;
      position: relative;
      box-shadow: 
        0 -10px 30px rgba(255, 105, 180, 0.3),
        0 -5px 15px rgba(0, 0, 0, 0.1);
    }

    .footer::before {
      content: '';
      position: absolute;
      top: -4px;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, #ff69b4, #ff1493, #ffc0cb, #ff69b4);
      background-size: 200% 200%;
      animation: borderShimmer 3s ease-in-out infinite;
      box-shadow: 0 0 15px rgba(255, 105, 180, 0.6);
    }

    .footer-content {
      max-width: 600px;
      margin: 0 auto;
    }

    .footer-content p {
      margin: 10px 0;
      color: #2d3748;
      font-weight: 700;
      font-size: 1.1rem;
      text-shadow: 1px 1px 2px rgba(255, 255, 255, 0.8);
    }

    .footer-title {
      font-weight: 800;
      font-size: 1.3rem;
      background: linear-gradient(45deg, #ff69b4, #5a4fcf, #ff69b4);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: cuteGradient 4s ease-in-out infinite;
      display: inline-block;
      margin-bottom: 5px;
    }

    .footer-link a {
      color: #ff1493;
      text-decoration: none;
      font-weight: 800;
      font-size: 1.05rem;
      transition: all 0.3s ease;
      border-bottom: 2px solid #ff69b4;
      padding-bottom: 2px;
    }

    .footer-link a:hover {
      color: #5a4fcf;
      border-bottom-color: #5a4fcf;
      text-shadow: 0 0 10px rgba(90, 79, 207, 0.3);
      transform: scale(1.05);
    }

    /* 다크 테마 푸터 */
    [data-theme="dark"] .footer {
      background: rgba(15, 15, 30, 0.95);
      border-top-color: #9c88ff;
      box-shadow: 
        0 -10px 30px rgba(156, 136, 255, 0.3),
        0 -5px 15px rgba(0, 0, 0, 0.3);
    }

    [data-theme="dark"] .footer::before {
      background: linear-gradient(90deg, #9c88ff, #7c4dff, #b39ddb, #9c88ff);
      background-size: 200% 200%;
      box-shadow: 0 0 15px rgba(156, 136, 255, 0.6);
    }

    [data-theme="dark"] .footer-content p {
      color: #f7fafc;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.8);
    }

    [data-theme="dark"] .footer-title {
      background: linear-gradient(45deg, #9c88ff, #ff69b4, #9c88ff);
      background-size: 200% 200%;
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    [data-theme="dark"] .footer-link a {
      color: #b39ddb;
      border-bottom-color: #9c88ff;
    }

    [data-theme="dark"] .footer-link a:hover {
      color: #ff69b4;
      border-bottom-color: #ff69b4;
      text-shadow: 0 0 10px rgba(255, 105, 180, 0.5);
    }
  </style>

  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "애니메이션 성격 진단은 얼마나 걸리나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "단 1분만에 완료! 20문항의 간단한 질문으로 당신의 성격을 애니메이션 캐릭터 타입으로 분석합니다."
        }
      },
      {
        "@type": "Question", 
        "name": "진단 결과는 신뢰할 수 있나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "심리학 이론과 애니메이션 캐릭터 분석을 바탕으로 설계되었습니다. 자기 이해와 재미를 위한 테스트로 활용하세요."
        }
      },
      {
        "@type": "Question",
        "name": "어떤 캐릭터 타입이 있나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "주인공, 츤데레, 쿨데레, 얀데레, 모에계, 현자 총 6가지 타입으로 진단합니다."
        }
      },
      {
        "@type": "Question",
        "name": "결과를 SNS에 공유할 수 있나요?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "네! 트위터, 카카오톡, 페이스북 등으로 쉽게 공유할 수 있습니다. 친구들과 함께 진단해보세요!"
        }
      }
    ]
  }
  </script>
  
  <!-- Rich Snippets for Quiz Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Quiz",
    "name": "애니메이션 성격 진단 테스트",
    "description": "당신의 애니메이션 캐릭터 성격 타입을 진단하는 무료 심리테스트. 주인공, 츤데레, 쿨계열 등 6가지 타입으로 분석",
    "url": "https://sanghunbruceham.github.io/tests/anime-personality/ko/",
    "image": "https://sanghunbruceham.github.io/tests/anime-personality/ko/og-image.png",
    "author": {
      "@type": "Organization",
      "name": "브루스 테스트 연구소",
      "url": "https://sanghunbruceham.github.io/tests/"
    },
    "datePublished": "2024-12-01",
    "dateModified": "2024-12-15",
    "inLanguage": "ko-KR",
    "keywords": "애니메이션, 성격테스트, 캐릭터분석, 심리테스트, 무료테스트, 성격진단",
    "hasPart": [
      {
        "@type": "Question",
        "name": "애니메이션 캐릭터 성격 분석 질문",
        "text": "다양한 상황에서의 반응을 통해 당신의 애니메이션 캐릭터 타입을 분석합니다"
      }
    ],
    "educationalLevel": "beginner",
    "typicalAgeRange": "13-65",
    "timeRequired": "PT5M",
    "interactivityType": "active",
    "learningResourceType": "assessment"
  }
  </script>
  
  <!-- Rich Snippets for Service Schema -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Service",
    "serviceType": "심리 진단 서비스",
    "name": "애니메이션 성격 진단 테스트",
    "description": "당신의 애니메이션 캐릭터 성격 타입을 진단하는 무료 온라인 심리테스트 서비스",
    "url": "https://sanghunbruceham.github.io/tests/anime-personality/ko/",
    "provider": {
      "@type": "Organization",
      "name": "브루스 테스트 연구소",
      "url": "https://sanghunbruceham.github.io/tests/"
    },
    "areaServed": "KR",
    "availableLanguage": ["ko-KR", "ja-JP", "en-US"],
    "serviceOutput": {
      "@type": "Thing",
      "name": "애니메이션 캐릭터 성격 분석 결과",
      "description": "주인공, 츤데레, 쿨계열, 밝은계열, 어둠계열, 신비계열 중 하나의 성격 타입"
    },
    "category": "심리테스트",
    "audience": {
      "@type": "Audience",
      "audienceType": "애니메이션 팬, 성격분석에 관심있는 사람들"
    },
    "isAccessibleForFree": true,
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "KRW",
      "availability": "https://schema.org/InStock"
    }
  }
  </script>
  <meta name="mobile-web-app-capable" content="yes">

</head>
<body>
  <!-- 귀여운 이모지 파티클 배경 -->
  <div class="particles" id="particles"></div>

  <!-- SVG Gradients -->
  <svg width="0" height="0">
    <defs>
      <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#ff69b4;stop-opacity:1" />
        <stop offset="50%" style="stop-color:#ff1493;stop-opacity:1" />
        <stop offset="100%" style="stop-color:#ffc0cb;stop-opacity:1" />
      </linearGradient>
    </defs>
  </svg>

  <div class="header-controls">
    <button class="theme-toggle" id="themeToggle">
      <i class="fas fa-moon"></i>
    </button>
  </div>

  <div class="container">
    <div class="card">
      <!-- Start Screen -->
      <div id="startScreen">
        <div class="header">
          <h1 class="title">
            🎭 애니메이션 성격 진단 테스트
          </h1>
          <p class="subtitle">나는 어떤 애니메이션 캐릭터 타입일까? 성격을 완벽 분석!</p>
          <a href="#faq" class="info-badge">애니메이션 성격 진단이란?</a>
        </div>

        <div class="gender-section">
          <h3>성별을 선택하세요</h3>

          <div class="gender-options">
            <div class="gender-option" onclick="selectGender('female')">
              <div class="gender-icon">👩</div>
              <div class="gender-text">여성</div>
              <div class="radio-circle"></div>
            </div>

            <div class="gender-option" onclick="selectGender('male')">
              <div class="gender-icon">👨</div>
              <div class="gender-text">남성</div>
              <div class="radio-circle"></div>
            </div>
          </div>

          <button class="btn btn-primary" id="startBtn" onclick="startTest()" disabled>
            진단 시작하기!
          </button>
        </div>
      </div>

      <!-- Question Screen -->
      <div id="questionScreen" class="hidden">
        <div class="progress-section">
          <div class="progress-circle">
            <svg class="progress-ring">
              <circle cx="50" cy="50" r="42" stroke="#ffc0cb" stroke-width="6" fill="transparent"/>
              <circle class="progress-circle-fill" cx="50" cy="50" r="42" stroke-width="6" fill="transparent"/>
            </svg>
            <div class="progress-counter" id="progressCounter">1/20</div>
          </div>
          <div class="progress-label">진행상황</div>
        </div>

        <div class="question-section">
          <div class="question-number" id="questionNumber">질문 1</div>
          <h2 class="question-title" id="questionTitle"></h2>

          <div id="answerContainer"></div>
          <button class="btn btn-primary" id="nextBtn" onclick="nextQuestion()" disabled>다음 질문</button>
        </div>
      </div>

      <!-- Loading Screen -->
      <div id="loadingScreen" class="hidden">
        <div class="loading-section">
          <div class="loading-spinner">
            <div class="loading-ring"></div>
            <div class="loading-ring"></div>
            <div class="loading-ring"></div>
          </div>
          <div class="loading-text">당신의 애니메이션 캐릭터 타입을 분석 중...</div>
        </div>
      </div>

      <!-- Result Screen -->
      <div id="resultScreen" class="hidden">
        <div class="result-section">
          <div class="result-header">
            <div class="result-emoji" id="resultEmoji">🎭</div>
            <div class="result-title" id="resultTitle">주인공 타입</div>
            <div class="result-subtitle" id="resultSubtitle">열혈이고 정의감 넘치는 성격</div>
            <div class="result-description" id="resultDescription">당신은 주변을 이끄는 리더 기질의 소유자입니다.</div>
          </div>

          <div class="result-cards">
            <div class="result-card">
              <div class="result-card-title personality">성격의 특징</div>
              <div class="result-card-content" id="personalityContent"></div>
            </div>

            <div class="result-card">
              <div class="result-card-title match">찰떡궁합 타입</div>
              <div class="result-card-content" id="matchContent"></div>
            </div>

            <div class="result-card">
              <div class="result-card-title anime">추천 애니메이션</div>
              <div class="result-card-content" id="animeContent"></div>
            </div>

            <div class="result-card">
              <div class="result-card-title characters">닮은 캐릭터</div>
              <div class="result-card-content">
                <div class="character-list" id="charactersList"></div>
              </div>
            </div>
          </div>

          <div class="share-section">
            <div class="share-title">결과 공유하기</div>

            <div class="share-buttons">
              <button class="share-btn twitter" onclick="shareTwitter()">
                <span>𝕏</span>
                <span>트위터</span>
              </button>

              <button class="share-btn kakao" onclick="shareKakao()">
                <span>💬</span>
                <span>카카오톡</span>
              </button>

              <button class="share-btn facebook" onclick="shareFacebook()">
                <span>f</span>
                <span>페이스북</span>
              </button>

              <button class="share-btn copy" onclick="copyResult()">
                <span>📋</span>
                <span>복사</span>
              </button>
            </div>

            <div class="action-buttons">
              <button class="action-btn" onclick="restartTest()">🔄 다시 진단하기</button>
              <button class="action-btn" onclick="goToMainPage()">🏠 다른 테스트 보기</button>
            </div>
          </div>
        </div>
      </div>

      <!-- FAQ Section -->
      <div id="faqSection" class="hidden">
        <div class="faq-section">
          <h2 class="faq-title">🤔 자주 묻는 질문 (FAQ)</h2>
          
          <div class="faq-item">
            <h3 class="faq-question">애니메이션 성격 진단이란 무엇인가요?</h3>
            <div class="faq-answer">
              애니메이션 캐릭터의 성격 타입을 바탕으로 당신의 성격을 분석하는 심리테스트입니다. 주인공, 츤데레, 쿨계열 등 6가지 타입 중에서 가장 가까운 타입을 진단합니다.
            </div>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">진단 결과는 얼마나 정확한가요?</h3>
            <div class="faq-answer">
              20문항의 과학적인 질문을 통해 분석되며, 심리학 연구를 바탕으로 개발되었습니다. 재미를 위한 테스트이므로 참고용으로 활용해주세요.
            </div>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">6가지 타입의 특징은?</h3>
            <div class="faq-answer">
              <strong>주인공:</strong> 열혈, 정의감, 리더십<br>
              <strong>츤데레:</strong> 겉은 차갑지만 속은 따뜻함<br>
              <strong>쿨데레:</strong> 냉정, 지적, 이성적<br>
              <strong>얀데레:</strong> 강한 애정, 독점욕<br>
              <strong>모에계:</strong> 귀엽고 순수, 힐링계<br>
              <strong>현자:</strong> 지혜롭고 신비로운 존재
            </div>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">결과를 SNS에 공유할 수 있나요?</h3>
            <div class="faq-answer">
              네! 트위터, 카카오톡, 페이스북, 복사하기 기능을 통해 친구들과 쉽게 공유할 수 있습니다. 함께 진단해보세요!
            </div>
          </div>

          <div class="faq-item">
            <h3 class="faq-question">진단은 무료인가요?</h3>
            <div class="faq-answer">
              완전 무료입니다! 회원가입이나 개인정보 입력 없이 바로 진단할 수 있습니다.
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- AdSense Ad -->
  <div style="text-align: center; margin: 20px 0;">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5508768187151867"
         crossorigin="anonymous"></script>
    <!-- 디스플레이 가로 -->
    <ins class="adsbygoogle"
         style="display:block"
         data-ad-client="ca-pub-5508768187151867"
         data-ad-slot="7298546648"
         data-ad-format="auto"
         data-full-width-responsive="true"></ins>
    <script>
         (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
  </div>

  <!-- Coupang Partners Ad Section -->
  <div class="ad-section">
    <h3 class="ad-title">🛍️ 애니메이션·캐릭터 관련 상품</h3>
    <p class="ad-description">당신의 애니메이션 캐릭터 타입에 딱 맞는 상품을 찾아보세요!</p>
    
    <!-- 쿠팡 파트너스 광고 -->
    <div class="ad-container">
      <div id="coupang-ad-container" class="coupang-ad">
        <script src="https://ads-partners.coupang.com/g.js"></script>
        <script>
          // 모바일 대응 광고 크기 조정
          const isMobile = window.innerWidth <= 768;
          const adWidth = isMobile ? Math.min(window.innerWidth - 40, 300) : 750;
          const adHeight = isMobile ? 120 : 150;
          
          new PartnersCoupang.G({
            "id": 867629,
            "template": "carousel",
            "trackingCode": "AF6959276",
            "width": adWidth.toString(),
            "height": adHeight.toString(),
            "tsource": ""
          });
        </script>
      </div>
    </div>
    
    <p class="ad-disclaimer">
      "이 포스팅은 쿠팡 파트너스 활동의 일환으로, 이에 따른 일정액의 수수료를 제공받습니다."
    </p>
  </div>

  <footer class="site-footer" style="text-align:center;padding:16px 12px;color:#64748b;font-size:14px;">
  <a id="home-link" href="/" style="display:inline-block;text-decoration:none;color:#2563eb;font-weight:800;">🏠 테스트 목록 보기</a>
  <div class="footer-lang" style="margin-top:6px;font-size:12px;line-height:1;">
    <span style="font-weight:700;color:#334155;">한국어</span> · <a href="/ja/" style="color:#475569;text-decoration:none;">日本語</a> · <a href="/en/" style="color:#475569;text-decoration:none;">English</a>
  </div>
</footer>

  <script>
    // 질문 데이터 - 20문항
    const questions = [
      {
        q: '당신의 이상적인 하루는?',
        options: [
          { text: '친구들과 모험을 떠나기', type: 'protagonist', score: 2 },
          { text: '혼자서 책을 읽으며 보내기', type: 'sage', score: 2 },
          { text: '모두와 함께 즐겁게 보내기', type: 'moe', score: 2 },
          { text: '계획을 세워 효율적으로 보내기', type: 'cool', score: 2 }
        ]
      },
      {
        q: '곤란한 사람을 발견했을 때, 당신은?',
        options: [
          { text: '바로 달려가서 도와준다', type: 'protagonist', score: 2 },
          { text: '상황을 보고 판단한다', type: 'cool', score: 2 },
          { text: '부끄럽지만 걱정된다', type: 'tsundere', score: 2 },
          { text: '조용히 손을 내밀어준다', type: 'moe', score: 2 }
        ]
      },
      {
        q: '새로운 그룹에 참여할 때는?',
        options: [
          { text: '적극적으로 자기소개한다', type: 'protagonist', score: 2 },
          { text: '거리를 두고 상황을 본다', type: 'cool', score: 2 },
          { text: '인견병이 있지만 궁금하다', type: 'moe', score: 2 },
          { text: '최소한의 관계만 유지한다', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '당신의 연애 스타일은?',
        options: [
          { text: '솔직하고 정열적', type: 'protagonist', score: 2 },
          { text: '솔직해지지 못한다', type: 'tsundere', score: 2 },
          { text: '한 사람만 깊게 사랑한다', type: 'yandere', score: 2 },
          { text: '애교 많고 의존적', type: 'moe', score: 2 }
        ]
      },
      {
        q: '스트레스를 받을 때 대처법은?',
        options: [
          { text: '몸을 움직여서 해소한다', type: 'protagonist', score: 2 },
          { text: '혼자만의 시간으로 정리한다', type: 'cool', score: 2 },
          { text: '믿을 수 있는 사람에게 상담한다', type: 'moe', score: 2 },
          { text: '겉으로 드러내지 않고 참는다', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '좋아하는 사람에 대한 행동은?',
        options: [
          { text: '솔직하게 마음을 전한다', type: 'protagonist', score: 2 },
          { text: '괜히 심술을 부린다', type: 'tsundere', score: 2 },
          { text: '그 사람 생각만 한다', type: 'yandere', score: 2 },
          { text: '부끄러워서 말을 못한다', type: 'moe', score: 2 }
        ]
      },
      {
        q: '리더십에 대해서는?',
        options: [
          { text: '자연스럽게 리더가 된다', type: 'protagonist', score: 2 },
          { text: '냉정하게 지시를 내린다', type: 'cool', score: 2 },
          { text: '모두를 서포트한다', type: 'moe', score: 2 },
          { text: '리더는 다른 사람에게 맡긴다', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '실패했을 때의 반응은?',
        options: [
          { text: '바로 다시 일어나서 재도전', type: 'protagonist', score: 2 },
          { text: '원인을 분석해서 개선한다', type: 'cool', score: 2 },
          { text: '낙심해서 울고 만다', type: 'moe', score: 2 },
          { text: '괜찮은 척 강한 척한다', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '친구 관계에서 중요하게 생각하는 것은?',
        options: [
          { text: '정의감과 신뢰 관계', type: 'protagonist', score: 2 },
          { text: '적당한 거리감', type: 'cool', score: 2 },
          { text: '깊은 유대와 이해', type: 'yandere', score: 2 },
          { text: '즐거운 시간 공유', type: 'moe', score: 2 }
        ]
      },
      {
        q: '자신의 감정 표현에 대해서는?',
        options: [
          { text: '스트레이트하게 표현한다', type: 'protagonist', score: 2 },
          { text: '감정을 겉으로 드러내지 않는다', type: 'cool', score: 2 },
          { text: '솔직해지지 못할 때가 있다', type: 'tsundere', score: 2 },
          { text: '감정이 풍부하고 표정에 나타난다', type: 'moe', score: 2 }
        ]
      },
      {
        q: '미래의 꿈이나 목표는?',
        options: [
          { text: '세상을 바꾸는 큰 목표', type: 'protagonist', score: 2 },
          { text: '현실적이고 달성 가능한 목표', type: 'cool', score: 2 },
          { text: '소중한 사람과 행복하게 지내기', type: 'moe', score: 2 },
          { text: '남에게 말할 수 없는 비밀스러운 꿈', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '경쟁에 대한 태도는?',
        options: [
          { text: '불타오른다! 전력으로 승부', type: 'protagonist', score: 2 },
          { text: '전략적으로 승리를 노린다', type: 'cool', score: 2 },
          { text: '승부보다 재미가 중요', type: 'moe', score: 2 },
          { text: '진심을 내는 게 부끄럽다', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '사람들의 주목에 대해서는?',
        options: [
          { text: '주목받으면 더 불타오른다', type: 'protagonist', score: 2 },
          { text: '필요 이상의 주목은 피한다', type: 'cool', score: 2 },
          { text: '부끄러워서 숨고 싶다', type: 'moe', score: 2 },
          { text: '부끄럽지만 싫지는 않다', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '소중한 것을 지킬 때는?',
        options: [
          { text: '전력으로 맞서 싸운다', type: 'protagonist', score: 2 },
          { text: '냉정하게 대책을 생각한다', type: 'cool', score: 2 },
          { text: '무슨 일이 있어도 절대 지킨다', type: 'yandere', score: 2 },
          { text: '누군가에게 도움을 요청한다', type: 'moe', score: 2 }
        ]
      },
      {
        q: '새로운 것에 도전할 때는?',
        options: [
          { text: '두근거리며 바로 행동', type: 'protagonist', score: 2 },
          { text: '정보 수집 후 판단한다', type: 'cool', score: 2 },
          { text: '불안하지만 열심히 한다', type: 'moe', score: 2 },
          { text: '관심 없는 척한다', type: 'tsundere', score: 2 }
        ]
      },
      {
        q: '이상적인 휴일 보내는 방법은?',
        options: [
          { text: '액티브하게 밖에서 활동', type: 'protagonist', score: 2 },
          { text: '혼자만의 시간을 소중히', type: 'cool', score: 2 },
          { text: '좋아하는 사람과 여유롭게', type: 'yandere', score: 2 },
          { text: '모두와 함께 즐겁게', type: 'moe', score: 2 }
        ]
      },
      {
        q: '비밀을 알게 되었을 때의 행동은?',
        options: [
          { text: '정의를 위해 행동한다', type: 'protagonist', score: 2 },
          { text: '신중하게 정보를 정리한다', type: 'cool', score: 2 },
          { text: '그 비밀을 독점하고 싶다', type: 'yandere', score: 2 },
          { text: '누군가에게 상담하고 싶어진다', type: 'moe', score: 2 }
        ]
      },
      {
        q: '선물을 고를 때는?',
        options: [
          { text: '상대가 기뻐할 것을 열심히 생각한다', type: 'protagonist', score: 2 },
          { text: '실용적이고 품질 좋은 것을 선택', type: 'cool', score: 2 },
          { text: '내 마음이 전해지는 것으로', type: 'yandere', score: 2 },
          { text: '귀여운 것을 선택하게 된다', type: 'moe', score: 2 }
        ]
      },
      {
        q: '인생에서 가장 소중히 하고 싶은 것은?',
        options: [
          { text: '정의와 우정', type: 'protagonist', score: 2 },
          { text: '지식과 성장', type: 'sage', score: 2 },
          { text: '사랑하는 사람과의 유대', type: 'yandere', score: 2 },
          { text: '평화롭고 행복한 일상', type: 'moe', score: 2 }
        ]
      },
      {
        q: '어려움에 직면했을 때의 심경은?',
        options: [
          { text: '의욕이 솟아오른다', type: 'protagonist', score: 2 },
          { text: '냉정하게 해결책을 찾는다', type: 'cool', score: 2 },
          { text: '불안해서 누군가에게 의지하고 싶다', type: 'moe', score: 2 },
          { text: '혼자서 끌어안고 만다', type: 'tsundere', score: 2 }
        ]
      }
    ];

    // 결과 데이터
    const results = {
      protagonist: {
        title: '주인공 타입',
        subtitle: '열혈이고 정의감 넘치는 성격',
        emoji: '🔥',
        description: '정열적이고 정의감이 강한, 모두의 리더적 존재',
        fullDescription: '당신은 주변을 이끄는 리더 기질의 소유자! 곤란한 사람을 보면 그냥 넘어갈 수 없는 정의감과 어떤 어려움에도 맞서는 용기를 가지고 있습니다. 동료를 소중히 여기고, 모두와 함께 성장해나가기를 바라는, 정말 이야기의 주인공 같은 성격입니다.',
        match: '쿨데레 타입',
        matchDesc: '냉정하고 지적인 쿨데레와 균형 잡힌 관계를 만들 수 있습니다',
        anime: ['소년 점프계', '배틀·액션', '스포츠 애니메이션', '모험·판타지'],
        characters: ['나루토', '손오공', '탄지로', '루피', '데쿠']
      },
      tsundere: {
        title: '츤데레 타입',
        subtitle: '겉은 차갑지만 속은 따뜻한',
        emoji: '💢',
        description: '솔직해지지 못하지만, 정말은 상냥한 성격',
        fullDescription: '당신은 겉보기에는 쿨하고 소극적이지만, 내면은 매우 따뜻하고 상냥한 마음의 소유자! 부끄러움이 많아서 솔직해지지 못하는 일이 많지만, 정말 소중한 사람에게는 깊은 애정을 쏟습니다. 그 갭이 주변 사람들을 매료시키는, 매우 매력적인 성격입니다.',
        match: '주인공 타입',
        matchDesc: '솔직한 주인공 타입이 당신의 진짜 상냥함을 이해해줍니다',
        anime: ['러브 코미디', '학원 애니메이션', '일상계', '로맨스'],
        characters: ['아이사카 타이가', '미카즈키 요조라', '카츠라 히나기쿠', '토사카 린', '스즈미야 하루히']
      },
      cool: {
        title: '쿨데레 타입',
        subtitle: '냉정하고 지적인 분석가',
        emoji: '❄️',
        description: '논리적이고 냉정하지만, 내면은 따뜻한',
        fullDescription: '당신은 냉정침착하고 논리적 사고가 뛰어난 지성파! 감정에 휘둘리지 않고, 항상 객관적으로 사물을 판단할 수 있는 능력을 가지고 있습니다. 표면상으로는 쿨해 보이지만, 신뢰할 수 있는 사람에게는 따뜻한 일면을 보여주는, 깊이 있는 매력을 가진 성격입니다.',
        match: '주인공 타입',
        matchDesc: '정열적인 주인공 타입과는 정반대로, 서로를 보완할 수 있는 관계',
        anime: ['SF·사이버펑크', '미스터리', '서스펜스', '심리전'],
        characters: ['아야나미 레이', '유키노시타 유키노', '세이버', '아케미 호무라', '시바 미유키']
      },
      yandere: {
        title: '얀데레 타입',
        subtitle: '강한 애정과 독점욕을 가진',
        emoji: '🖤',
        description: '애정이 깊지만, 때로는 너무 무거운 사랑',
        fullDescription: '당신은 애정이 매우 깊고, 소중한 사람에 대한 마음이 남다른 성격! 한번 마음을 연 상대에게는 깊은 애정과 충성심을 쏟아붓고, 무슨 일이 있어도 지켜내려고 합니다. 때로는 무겁다고 느껴질 수도 있지만, 그만큼 진지하게 사람을 사랑할 수 있는 순수한 마음의 소유자입니다.',
        match: '모에 타입',
        matchDesc: '순진하고 상냥한 모에 타입이라면, 당신의 애정을 솔직하게 받아줄 것입니다',
        anime: ['호러·서스펜스', '다크 판타지', '사이콜로지컬', '스릴러'],
        characters: ['가사이 유노', '카츠라 코토노하', '류구 레나', '무카이사카 타마키', '쿠로사키 이치고']
      },
      moe: {
        title: '모에 타입',
        subtitle: '귀엽고 순진한 힐링계',
        emoji: '🌸',
        description: '천진난만하고 주변을 치유하는 존재',
        fullDescription: '당신은 순진무구하고 천진난만한, 보고만 있어도 주변을 치유해버리는 사랑스러운 성격! 솔직하고 상냥하며, 자연스럽게 있는 것만으로도 사람들을 웃게 만드는 특별한 매력을 가지고 있습니다. 때로는 의지할 수 없다고 생각될 수도 있지만, 그 순수함이야말로 당신의 최대 무기입니다.',
        match: '얀데레 타입',
        matchDesc: '보호욕이 강한 얀데레 타입이 당신을 소중히 지켜줄 것입니다',
        anime: ['일상계·힐링', '키라라계', '패밀리', '코미디'],
        characters: ['히라사와 유이', '모모이 사츠키', '센고쿠 나데코', '미사카 미코토', '타카나시 히나']
      },
      sage: {
        title: '현자 타입',
        subtitle: '지혜롭고 신비로운 존재',
        emoji: '🧙‍♂️',
        description: '깊은 지식과 통찰력을 가진',
        fullDescription: '당신은 풍부한 지식과 깊은 통찰력을 가진, 정말 현자와 같은 존재! 사물의 본질을 꿰뚫어보는 능력이 뛰어나고, 곤란할 때는 적절한 조언을 해주는 의지할 수 있는 존재입니다. 신비롭고 조금 접근하기 어려운 인상을 줄 때도 있지만, 그 깊이 있는 지혜는 많은 사람들에게 존경받고 있습니다.',
        match: '주인공 타입',
        matchDesc: '행동력 있는 주인공 타입에게 지혜를 전수하는 멘토적인 관계',
        anime: ['판타지', '이세계', '마법·초능력', '철학적'],
        characters: ['덤블도어', '간달프', '하치쿠지 마요이', '나가토 유키', '치탄다 에루']
      }
    };

    // 테스트 상태
    let selectedGender = '';
    let currentQuestion = 0;
    let answers = [];
    let scores = {
      protagonist: 0,
      tsundere: 0,
      cool: 0,
      yandere: 0,
      moe: 0,
      sage: 0
    };

    function selectGender(gender) {
      selectedGender = gender;

      document.querySelectorAll('.gender-option').forEach(option => {
        option.classList.remove('selected');
      });

      event.target.closest('.gender-option').classList.add('selected');
      document.getElementById('startBtn').disabled = false;
    }

    function startTest() {
      if (!selectedGender) return;

      document.getElementById('startScreen').classList.add('hidden');
      document.getElementById('questionScreen').classList.remove('hidden');

      showQuestion();
    }

    function showQuestion() {
      const question = questions[currentQuestion];

      document.getElementById('questionTitle').textContent = question.q;
      document.getElementById('questionNumber').textContent = `질문 ${currentQuestion + 1}`;

      const container = document.getElementById('answerContainer');
      container.innerHTML = '';

      const optionsDiv = document.createElement('div');
      optionsDiv.className = 'answer-options';

      question.options.forEach((option, index) => {
        const button = document.createElement('div');
        button.className = 'answer-option';
        button.textContent = option.text;
        button.onclick = () => selectAnswer(index);
        optionsDiv.appendChild(button);
      });

      container.appendChild(optionsDiv);

      updateProgress();
      document.getElementById('nextBtn').disabled = true;
    }

    function selectAnswer(index) {
      const question = questions[currentQuestion];

      document.querySelectorAll('.answer-option').forEach(option => {
        option.classList.remove('selected');
      });
      document.querySelectorAll('.answer-option')[index].classList.add('selected');

      const selectedOption = question.options[index];
      answers[currentQuestion] = selectedOption;

      scores[selectedOption.type] += selectedOption.score;

      document.getElementById('nextBtn').disabled = false;
    }

    function nextQuestion() {
      currentQuestion++;

      if (currentQuestion < questions.length) {
        showQuestion();
      } else {
        showLoading();
      }
    }

    function updateProgress() {
      const progress = ((currentQuestion + 1) / questions.length) * 100;
      const circumference = 2 * Math.PI * 42;
      const offset = circumference - (progress / 100) * circumference;
      
      document.querySelector('.progress-circle-fill').style.strokeDashoffset = offset;
      document.getElementById('progressCounter').textContent = `${currentQuestion + 1}/20`;
    }

    function showLoading() {
      document.getElementById('questionScreen').classList.add('hidden');
      document.getElementById('loadingScreen').classList.remove('hidden');

      setTimeout(() => {
        showResult();
      }, 3000);
    }

    function showResult() {
      document.getElementById('loadingScreen').classList.add('hidden');
      document.getElementById('resultScreen').classList.remove('hidden');
      document.getElementById('faqSection').classList.remove('hidden');

      // 최고 점수 타입 결정
      let maxScore = 0;
      let resultType = 'protagonist';
      
      for (const [type, score] of Object.entries(scores)) {
        if (score > maxScore) {
          maxScore = score;
          resultType = type;
        }
      }

      const result = results[resultType];

      // 결과 표시
      document.getElementById('resultEmoji').textContent = result.emoji;
      document.getElementById('resultTitle').textContent = result.title;
      document.getElementById('resultSubtitle').textContent = result.subtitle;
      document.getElementById('resultDescription').textContent = result.description;

      // 상세 정보
      document.getElementById('personalityContent').textContent = result.fullDescription;
      document.getElementById('matchContent').innerHTML = `
        <strong>${result.match}</strong><br>
        ${result.matchDesc}
      `;
      document.getElementById('animeContent').textContent = result.anime.join(', ');

      // 캐릭터 목록
      const charactersList = document.getElementById('charactersList');
      charactersList.innerHTML = result.characters.map(character => 
        `<span class="character-tag">${character}</span>`
      ).join('');

      // 테스트 완료 이벤트 추적
      trackEvent('test_completed', 'anime_personality');
    }

    function getShareText() {
      let maxScore = 0;
      let resultType = 'protagonist';
      
      for (const [type, score] of Object.entries(scores)) {
        if (score > maxScore) {
          maxScore = score;
          resultType = type;
        }
      }

      const result = results[resultType];

      return `🎭 애니메이션 성격 진단 결과

🎯 나는 ${result.title}였습니다!
${result.fullDescription}

💕 찰떡궁합: ${result.match}
📺 추천 애니메이션: ${result.anime.join(', ')}
👥 닮은 캐릭터: ${result.characters.slice(0, 3).join(', ')}

✨ 당신도 진단해보세요: https://tests.mahalohana-bruce.com/anime-personality/ko/`;
    }

    function copyResult() {
      const text = getShareText();

      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).then(() => {
          alert('🎉 결과가 클립보드에 복사되었습니다!');
        }).catch(() => {
          fallbackCopy(text);
        });
      } else {
        fallbackCopy(text);
      }
    }

    function fallbackCopy(text) {
      const textArea = document.createElement('textarea');
      textArea.value = text;
      textArea.style.position = 'fixed';
      textArea.style.opacity = '0';
      document.body.appendChild(textArea);
      textArea.focus();
      textArea.select();

      try {
        document.execCommand('copy');
        alert('🎉 결과가 클립보드에 복사되었습니다!');
      } catch (err) {
        alert('복사 기능이 이 브라우저에서 지원되지 않습니다.');
      }

      document.body.removeChild(textArea);
    }

    function shareTwitter() {
      let maxScore = 0;
      let resultType = 'protagonist';
      
      for (const [type, score] of Object.entries(scores)) {
        if (score > maxScore) {
          maxScore = score;
          resultType = type;
        }
      }

      const result = results[resultType];
      const text = `나는 ${result.title}였습니다! 당신도 진단해보세요♪ https://tests.mahalohana-bruce.com/anime-personality/ko/`;

      try {
        const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;
        window.open(url, '_blank', 'noopener,noreferrer');
      } catch (err) {
        copyToClipboard(text);
        alert('텍스트가 복사되었습니다! 트위터에 붙여넣어주세요.');
      }
    }

    function shareKakao() {
      const text = getShareText();
      try {
        // 카카오톡 공유 (모바일에서만 작동)
        if (navigator.userAgent.match(/Android|iPhone|iPad|iPod/i)) {
          const url = `kakaotalk://app?id=kakaolink&url=${encodeURIComponent('https://tests.mahalohana-bruce.com/anime-personality/ko/')}&text=${encodeURIComponent(text)}`;
          window.location.href = url;
        } else {
          copyToClipboard(text);
          alert('텍스트가 복사되었습니다! 카카오톡에 붙여넣어주세요.');
        }
      } catch (err) {
        copyToClipboard(text);
        alert('텍스트가 복사되었습니다! 카카오톡에 붙여넣어주세요.');
      }
    }

    function shareFacebook() {
      try {
        const url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent('https://tests.mahalohana-bruce.com/anime-personality/ko/')}`;
        window.open(url, '_blank', 'noopener,noreferrer');
      } catch (err) {
        const text = '애니메이션 성격 진단 테스트 https://tests.mahalohana-bruce.com/anime-personality/ko/';
        copyToClipboard(text);
        alert('텍스트가 복사되었습니다! 페이스북에 붙여넣어주세요.');
      }
    }

    function copyToClipboard(text) {
      if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(text).catch(() => {
          fallbackCopy(text);
        });
      } else {
        fallbackCopy(text);
      }
    }

    function restartTest() {
      selectedGender = '';
      currentQuestion = 0;
      answers = [];
      scores = {
        protagonist: 0,
        tsundere: 0,
        cool: 0,
        yandere: 0,
        moe: 0,
        sage: 0
      };

      document.getElementById('resultScreen').classList.add('hidden');
      document.getElementById('faqSection').classList.add('hidden');
      document.getElementById('startScreen').classList.remove('hidden');

      document.querySelectorAll('.gender-option').forEach(option => {
        option.classList.remove('selected');
      });

      document.getElementById('startBtn').disabled = true;
    }

    function goToMainPage() {
      window.location.href = '/ko/';
    }

    // Google Analytics 이벤트 추적
    function trackEvent(action, category = 'engagement') {
      if (typeof gtag !== 'undefined') {
        gtag('event', action, {
          event_category: category,
          event_label: 'ko'
        });
      }
    }

    // 다크모드 기능
    let isDarkMode = localStorage.getItem('darkMode') === 'true';

    function updateTheme() {
      const themeToggle = document.querySelector('.theme-toggle');
      const icon = themeToggle.querySelector('i');

      if (isDarkMode) {
        document.documentElement.setAttribute('data-theme', 'dark');
        icon.className = 'fas fa-sun';
      } else {
        document.documentElement.removeAttribute('data-theme');
        icon.className = 'fas fa-moon';
      }

      localStorage.setItem('darkMode', isDarkMode);
    }

    // 귀여운 이모지 파티클 생성
    function createParticles() {
      const particlesContainer = document.getElementById('particles');
      const particleCount = 20;

      for (let i = 0; i < particleCount; i++) {
        const particle = document.createElement('div');
        particle.className = 'particle';
        particle.style.left = Math.random() * 100 + '%';
        particle.style.animationDelay = Math.random() * 8 + 's';
        particle.style.animationDuration = (Math.random() * 4 + 8) + 's';
        particlesContainer.appendChild(particle);
      }
    }

    document.addEventListener('DOMContentLoaded', function() {
      updateTheme();
      createParticles();

      // 테마 토글 이벤트 리스너
      document.querySelector('.theme-toggle').addEventListener('click', () => {
        isDarkMode = !isDarkMode;
        updateTheme();
      });
    });
  </script>
</body>
</html>