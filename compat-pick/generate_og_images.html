<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>OG Image Generator - Compat Pick</title>
<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans KR", system-ui, sans-serif; background: #1a1a1a; padding: 20px; }
.container { max-width: 1400px; margin: 0 auto; }
h1 { color: white; margin-bottom: 30px; }
.preview { margin-bottom: 40px; }
.preview h2 { color: #aaa; margin-bottom: 10px; font-size: 14px; }
canvas { border: 1px solid #333; margin-bottom: 10px; display: block; background: white; }
button { background: #E11D48; color: white; border: none; padding: 10px 20px; border-radius: 8px; cursor: pointer; font-weight: bold; margin-right: 10px; }
button:hover { background: #be123c; }
.controls { display: flex; gap: 20px; margin-bottom: 40px; flex-wrap: wrap; }
</style>
</head>
<body>

<div class="container">
  <h1>OG Image Generator - Name Chemistry Test</h1>
  
  <div class="controls">
    <button onclick="generateAll()">Generate All OG Images</button>
    <button onclick="downloadAll()">Download All</button>
  </div>

  <div class="preview">
    <h2>Korean (1200x630)</h2>
    <canvas id="og-ko" width="1200" height="630"></canvas>
    <button onclick="downloadImage('og-ko', 'og-ko.png')">Download Korean OG</button>
  </div>

  <div class="preview">
    <h2>Japanese (1200x630)</h2>
    <canvas id="og-ja" width="1200" height="630"></canvas>
    <button onclick="downloadImage('og-ja', 'og-ja.png')">Download Japanese OG</button>
  </div>

  <div class="preview">
    <h2>English (1200x630)</h2>
    <canvas id="og-en" width="1200" height="630"></canvas>
    <button onclick="downloadImage('og-en', 'og-en.png')">Download English OG</button>
  </div>
</div>

<script>
function createGradient(ctx, width, height) {
  const gradient = ctx.createLinearGradient(0, 0, width, height);
  gradient.addColorStop(0, '#FAFBFF');
  gradient.addColorStop(0.5, '#FEF7FF');
  gradient.addColorStop(1, '#FFF1F2');
  return gradient;
}

function createBrandGradient(ctx, x1, y1, x2, y2) {
  const gradient = ctx.createLinearGradient(x1, y1, x2, y2);
  gradient.addColorStop(0, '#E11D48');
  gradient.addColorStop(0.5, '#7C3AED');
  gradient.addColorStop(1, '#F59E0B');
  return gradient;
}

function drawCard(canvasId, config) {
  const canvas = document.getElementById(canvasId);
  const ctx = canvas.getContext('2d');
  const width = canvas.width;
  const height = canvas.height;
  
  // Background gradient
  ctx.fillStyle = createGradient(ctx, width, height);
  ctx.fillRect(0, 0, width, height);
  
  // Decorative circles
  ctx.globalAlpha = 0.05;
  ctx.fillStyle = '#E11D48';
  ctx.beginPath();
  ctx.arc(200, 150, 180, 0, Math.PI * 2);
  ctx.fill();
  
  ctx.fillStyle = '#7C3AED';
  ctx.beginPath();
  ctx.arc(1000, 480, 200, 0, Math.PI * 2);
  ctx.fill();
  
  ctx.globalAlpha = 1;
  
  // White card
  ctx.fillStyle = 'rgba(255, 255, 255, 0.95)';
  roundRect(ctx, 80, 80, width - 160, height - 160, 30, true);
  
  // Logo/Icon
  ctx.fillStyle = createBrandGradient(ctx, 120, 120, 220, 220);
  roundRect(ctx, 120, 120, 80, 80, 20, true);
  
  // Heart icon
  ctx.fillStyle = '#fff';
  ctx.font = 'bold 40px Arial';
  ctx.textAlign = 'center';
  ctx.fillText('üíï', 160, 175);
  
  // Main title
  ctx.textAlign = 'left';
  ctx.fillStyle = createBrandGradient(ctx, 120, 0, 600, 0);
  ctx.font = 'bold ' + config.titleSize + 'px "Noto Sans KR", sans-serif';
  ctx.fillText(config.title, 240, 170);
  
  // Subtitle
  ctx.fillStyle = '#64748B';
  ctx.font = config.subtitleSize + 'px "Noto Sans KR", sans-serif';
  wrapText(ctx, config.subtitle, 120, 260, width - 240, config.subtitleSize + 10);
  
  // Call to action box
  const ctaY = height - 200;
  ctx.fillStyle = createBrandGradient(ctx, 120, ctaY, 400, ctaY + 60);
  roundRect(ctx, 120, ctaY, 380, 60, 30, true);
  
  ctx.fillStyle = '#fff';
  ctx.font = 'bold 24px "Noto Sans KR", sans-serif';
  ctx.textAlign = 'center';
  ctx.fillText(config.cta, 310, ctaY + 38);
  
  // Example result
  ctx.textAlign = 'left';
  ctx.fillStyle = '#E11D48';
  ctx.font = 'bold 32px "Noto Sans KR", sans-serif';
  ctx.fillText(config.example, width - 480, ctaY + 38);
  
  // URL
  ctx.fillStyle = '#94a3b8';
  ctx.font = '18px Arial';
  ctx.fillText('tests.mahalohana-bruce.com', 120, height - 110);
}

function roundRect(ctx, x, y, width, height, radius, fill) {
  ctx.beginPath();
  ctx.moveTo(x + radius, y);
  ctx.lineTo(x + width - radius, y);
  ctx.quadraticCurveTo(x + width, y, x + width, y + radius);
  ctx.lineTo(x + width, y + height - radius);
  ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);
  ctx.lineTo(x + radius, y + height);
  ctx.quadraticCurveTo(x, y + height, x, y + height - radius);
  ctx.lineTo(x, y + radius);
  ctx.quadraticCurveTo(x, y, x + radius, y);
  ctx.closePath();
  if (fill) ctx.fill();
}

function wrapText(ctx, text, x, y, maxWidth, lineHeight) {
  const words = text.split(' ');
  let line = '';
  let currentY = y;
  
  for (let i = 0; i < words.length; i++) {
    const testLine = line + words[i] + ' ';
    const metrics = ctx.measureText(testLine);
    const testWidth = metrics.width;
    
    if (testWidth > maxWidth && i > 0) {
      ctx.fillText(line, x, currentY);
      line = words[i] + ' ';
      currentY += lineHeight;
    } else {
      line = testLine;
    }
  }
  ctx.fillText(line, x, currentY);
}

function generateAll() {
  // Korean
  drawCard('og-ko', {
    title: 'Ïù¥Î¶Ñ ÏºÄÎØ∏ ÌÖåÏä§Ìä∏',
    titleSize: 48,
    subtitle: 'Ïù¥Î¶ÑÎßå ÏûÖÎ†•ÌïòÎ©¥ ÏºÄÎØ∏ ÌçºÏÑºÌä∏ ÏôÑÏÑ±! ÏπúÍµ¨Îì§Í≥º ÎπÑÍµêÌïòÍ≥† SNSÏóê Í≥µÏú†ÌïòÎäî Ïû¨ÎØ∏ÍπåÏßÄ! ÏßÄÍ∏à Î∞îÎ°ú ÌÖåÏä§Ìä∏ÌïòÍ≥† Ïö¥Î™ÖÏùò ÏÉÅÎåÄÎ•º Ï∞æÏïÑÎ≥¥ÏÑ∏Ïöî.',
    subtitleSize: 24,
    cta: 'ÏßÄÍ∏à ÌÖåÏä§Ìä∏ÌïòÍ∏∞ ‚Üí',
    example: 'Ï≤†Ïàò ‚ù§ ÏòÅÌù¨ = 89%'
  });
  
  // Japanese
  drawCard('og-ja', {
    title: 'ÂêçÂâçÁõ∏ÊÄß„ÉÜ„Çπ„Éà',
    titleSize: 48,
    subtitle: 'ÂêçÂâç„ÇíÂÖ•Âäõ„Åô„Çã„Å†„Åë„ÅßÁõ∏ÊÄß„Éë„Éº„Çª„É≥„ÉàÂÆåÊàêÔºÅÂèãÈÅî„Å®ÊØîËºÉ„Åó„Å¶SNS„Åß„Ç∑„Çß„Ç¢„Åô„ÇãÊ•Ω„Åó„Åï„Åæ„ÅßÔºÅ‰ªä„Åô„Åê„ÉÜ„Çπ„Éà„Åó„Å¶ÈÅãÂëΩ„ÅÆÁõ∏Êâã„ÇíË¶ã„Å§„Åë„Çà„ÅÜ„ÄÇ',
    subtitleSize: 22,
    cta: '‰ªä„Åô„Åê„ÉÜ„Çπ„Éà ‚Üí',
    example: 'Â§™ÈÉé ‚ù§ Ëä±Â≠ê = 89%'
  });
  
  // English
  drawCard('og-en', {
    title: 'Name Chemistry Test',
    titleSize: 48,
    subtitle: 'Just enter names and get your chemistry percentage! Share with friends and compare results on social media! Test now and find your destiny.',
    subtitleSize: 24,
    cta: 'Test Now ‚Üí',
    example: 'John ‚ù§ Jane = 89%'
  });
}

function downloadImage(canvasId, filename) {
  const canvas = document.getElementById(canvasId);
  const link = document.createElement('a');
  link.download = filename;
  link.href = canvas.toDataURL('image/png');
  link.click();
}

function downloadAll() {
  downloadImage('og-ko', 'og-ko.png');
  setTimeout(() => downloadImage('og-ja', 'og-ja.png'), 500);
  setTimeout(() => downloadImage('og-en', 'og-en.png'), 1000);
}

// Generate all on load
window.onload = generateAll;
</script>

<footer style="text-align:center; margin-top:24px; color:#64748b; font-weight:600;">
  <a id="home-link" href="/" style="text-decoration:none; color:#2563eb; font-weight:700;">üè† Î©îÏù∏ ÌÖåÏä§Ìä∏ ÌéòÏù¥ÏßÄÎ°ú Ïù¥Îèô</a>
</footer>
</body>
</html>